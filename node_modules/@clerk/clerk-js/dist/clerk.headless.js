!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(globalThis,()=>(()=>{var t={3145:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function a(t){try{l(n.next(t))}catch(t){s(t)}}function o(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,o)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(i)throw TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(2091),a="browser-tabs-lock-key";function o(t){return new Promise(function(e){return setTimeout(e,t)})}function l(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<t;n++){var r=Math.floor(Math.random()*e.length);i+=e[r]}return i}var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,i){return void 0===i&&(i=5e3),n(this,void 0,void 0,function(){var n,s,c,h,d,u;return r(this,function(r){switch(r.label){case 0:n=Date.now()+l(4),s=Date.now()+i,c=a+"-"+e,h=window.localStorage,r.label=1;case 1:if(!(Date.now()<s))return[3,8];return[4,o(30)];case 2:if(r.sent(),null!==h.getItem(c))return[3,5];return d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))];case 3:return r.sent(),h.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:if(r.sent(),null!==(u=h.getItem(c))&&(u=JSON.parse(u)).id===this.id&&u.iat===n)return this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0];return[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,function(){var i=this;return r(this,function(a){return setTimeout(function(){return n(i,void 0,void 0,function(){var i,n;return r(this,function(r){switch(r.label){case 0:return[4,s.default().lock(e)];case 1:if(r.sent(),!this.acquiredIatSet.has(e)||null===(n=(i=window.localStorage).getItem(t)))return s.default().unlock(e),[2];return(n=JSON.parse(n)).timeRefreshed=Date.now(),i.setItem(t,JSON.stringify(n)),s.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2]}})})},1e3),[2]})})},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,new Promise(function(i){var n=!1,r=Date.now(),s=!1;function a(){if(s||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(o),s=!0),!n){n=!0;var e=50-(Date.now()-r);e>0?setTimeout(i,e):i()}}window.addEventListener("storage",a),t.addToWaiting(a);var o=setTimeout(a,Math.max(0,e-Date.now()))})];case 1:return i.sent(),[2]}})})},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter(function(t){return t!==e}))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach(function(t){return t()})},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}})})},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,function(){var i,n,o;return r(this,function(r){switch(r.label){case 0:if(i=window.localStorage,n=a+"-"+e,null===(o=i.getItem(n)))return[2];if((o=JSON.parse(o)).id!==this.id)return[3,2];return[4,s.default().lock(o.iat)];case 1:r.sent(),this.acquiredIatSet.delete(o.iat),i.removeItem(n),s.default().unlock(o.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}})})},t.lockCorrector=function(){for(var e=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,s=0;s<n.length;s++){var o=n[s];if(o.includes(a)){var l=i.getItem(o);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<e||void 0!==l.timeRefreshed&&l.timeRefreshed<e)&&(i.removeItem(o),r=!0)}}r&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c},2091:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,i){var n=t.locked.get(e);void 0===n?void 0===i?t.locked.set(e,[]):t.locked.set(e,[i]):void 0!==i&&(n.unshift(i),t.locked.set(e,n))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise(function(i,n){t.isLocked(e)?t.addToLocked(e,i):(t.addToLocked(e),i())})},this.unlock=function(e){var i=t.locked.get(e);if(void 0===i||0===i.length){t.locked.delete(e);return}var n=i.pop();t.locked.set(e,i),void 0!==n&&setTimeout(n,0)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return i.getInstance()}},990:function(t){t.exports=function(t,e){if("string"!=typeof t)throw TypeError("Expected a string");for(var i,n=String(t),r="",s=!!e&&!!e.extended,a=!!e&&!!e.globstar,o=!1,l=e&&"string"==typeof e.flags?e.flags:"",c=0,h=n.length;c<h;c++)switch(i=n[c]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+i;break;case"?":if(s){r+=".";break}case"[":case"]":if(s){r+=i;break}case"{":if(s){o=!0,r+="(";break}case"}":if(s){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+i;break;case"*":for(var d=n[c-1],u=1;"*"===n[c+1];)u++,c++;var p=n[c+1];a?u>1&&("/"===d||void 0===d)&&("/"===p||void 0===p)?(r+="((?:[^/]*(?:/|$))*)",c++):r+="([^/]*)":r+=".*";break;default:r+=i}return l&&~l.indexOf("g")||(r="^"+r+"$"),new RegExp(r,l)}},7446:function(t){var e=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function h(t,i,n,s){var a,o,l,c,h=Object.create((i&&i.prototype instanceof m?i:m).prototype);return r(h,"_invoke",{value:(a=t,o=n,l=new I(s||[]),c=u,function(t,i){if(c===p)throw Error("Generator is already running");if(c===f){if("throw"===t)throw i;return P()}for(l.method=t,l.arg=i;;){var n=l.delegate;if(n){var r=function t(i,n){var r=n.method,s=i.iterator[r];if(e===s)return n.delegate=null,"throw"===r&&i.iterator.return&&(n.method="return",n.arg=e,t(i,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),v;var a=d(s,i.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(n,l);if(r){if(r===v)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===u)throw c=f,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var s=d(a,o,l);if("normal"===s.type){if(c=l.done?f:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:l.done}}"throw"===s.type&&(c=f,l.method="throw",l.arg=s.arg)}})}),h}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var u="suspendedStart",p="executing",f="completed",v={};function m(){}function g(){}function w(){}var _={};c(_,a,function(){return this});var b=Object.getPrototypeOf,y=b&&b(b(C([])));y&&y!==i&&n.call(y,a)&&(_=y);var k=w.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function U(t,e){var i;r(this,"_invoke",{value:function(r,s){function a(){return new e(function(i,a){!function i(r,s,a,o){var l=d(t[r],t,s);if("throw"===l.type)o(l.arg);else{var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,o)},function(t){i("throw",t,a,o)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,o)})}}(r,s,i,a)})}return i=i?i.then(a,a):a()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var i=t[a];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=w,r(k,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:g,configurable:!0}),g.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},S(U.prototype),c(U.prototype,o,function(){return this}),t.AsyncIterator=U,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var a=new U(h(e,i,n,r),s);return t.isGeneratorFunction(i)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(k),c(k,l,"Generator"),c(k,a,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return o.type="throw",o.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return(a.type=t,a.arg=e,s)?(this.method="next",this.next=s.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;O(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:C(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},9906:function(t,e,i){"use strict";let n;function r(t,e){return e.get?e.get.call(t):e.value}function s(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function a(t,e){var i=s(t,e,"get");return r(t,i)}function o(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){o(t,e),e.set(t,i)}function c(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}function h(t,e,i){var n=s(t,e,"set");return c(t,n,i),i}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(){return"undefined"!=typeof window}i.r(e),i.d(e,{isClerkRuntimeError:()=>D.uX,isEmailLinkError:()=>D.G1,isClerkAPIResponseError:()=>D.kD,EmailLinkErrorCode:()=>D._L,Clerk:()=>rm,ClerkRuntimeError:()=>D.w$,isKnownError:()=>D.sZ,isMetamaskError:()=>D.ZC,ClerkAPIResponseError:()=>D.gO,isUserLockedError:()=>D.ay,EmailLinkError:()=>D.N}),i("7446");var p,f,v,m,g,w,_,b,y,k,S,U,A,O,I,C,P,E,T,R=RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");function x(){var t;let e=u()?null==window?void 0:window.navigator:null;return!!e&&!((t=null==e?void 0:e.userAgent)&&R.test(t))&&!(null==e?void 0:e.webdriver)}function M(){var t,e;let i=u()?null==window?void 0:window.navigator:null;if(!i)return!1;let n=null==i?void 0:i.onLine;return(null==(t=null==i?void 0:i.connection)?void 0:t.rtt)!==0&&(null==(e=null==i?void 0:i.connection)?void 0:e.downlink)!==0&&n}var W=i("2689"),z=()=>!1,N=()=>{try{return!0}catch(t){}return!1},F=new Set,L=(t,e,i)=>{let n=z()||N(),r=null!=i?i:t;!F.has(r)&&!n&&(F.add(r),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},D=i("5120"),j=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t,"base64").toString():t,J=t=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t).toString("base64"):t,K=[".lcl.dev",".lclstage.dev",".lclclerk.com"],V=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],q=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],B="pk_live_";function $(t,e={}){if(!(t=t||"")||!function(t){let e=(t=t||"").startsWith(B)||t.startsWith("pk_test_"),i=j(t.split("_")[2]||"").endsWith("$");return e&&i}(t)){if(e.fatal)throw Error("Publishable key not valid.");return null}let i=t.startsWith(B)?"production":"development",n=j(t.split("_")[2]);return n=n.slice(0,-1),e.proxyUrl?n=e.proxyUrl:"development"!==i&&e.domain&&(n=`clerk.${e.domain}`),{instanceType:i,frontendApi:n}}async function G(t,e=globalThis.crypto.subtle){let i=new TextEncoder().encode(t);return J(String.fromCharCode(...new Uint8Array(await e.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var H=(t,e)=>`${t}_${e}`,Y=class{constructor(t){this.eventTarget=window,this.postMessage=t=>{if("undefined"!=typeof window)try{window.localStorage.setItem(this.channelKey,JSON.stringify(t)),window.localStorage.removeItem(this.channelKey)}catch(t){}},this.addEventListener=(t,e)=>{this.eventTarget.addEventListener(this.prefixEventName(t),t=>{e(t)})},this.setupLocalStorageListener=()=>{window.addEventListener("storage",t=>{if(t.key===this.channelKey&&t.newValue)try{let e=JSON.parse(t.newValue||""),i=new MessageEvent(this.prefixEventName("message"),{data:e});this.eventTarget.dispatchEvent(i)}catch(t){}})},this.channelKey="__lsbc__"+t,this.setupLocalStorageListener()}prefixEventName(t){return this.channelKey+t}},Z=new Set,Q={warnOnce:t=>{!Z.has(t)&&(Z.add(t),console.warn(t))},logOnce:t=>{!Z.has(t)&&(console.log(t),Z.add(t))}};function X(t){return/^http(s)?:\/\//.test(t||"")}function tt(t){return t.startsWith("/")}function te(t){return t?t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}var ti=t=>{let e=i=>{if(!i)return i;if(Array.isArray(i))return i.map(t=>"object"==typeof t||Array.isArray(t)?e(t):t);let n={...i};for(let i of Object.keys(n)){let r=t(i.toString());r!==i&&(n[r]=n[i],delete n[i]),"object"==typeof n[r]&&(n[r]=e(n[r]))}return n};return e};ti(te);var tn=ti(function(t){return t?t.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""});function tr(t){if("boolean"==typeof t)return t;if(null==t)return!1;if("string"==typeof t){if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1}let e=parseInt(t,10);return!isNaN(e)&&e>0}var ts=class{constructor(){(0,W.Ko)(this,v),(0,W.Ko)(this,p,"clerk_telemetry_throttler"),(0,W.Ko)(this,f,864e5)}isEventThrottled(t){var e;if(!(0,W.ac)(this,v,w))return!1;let i=Date.now(),n=(0,W.U9)(this,v,m).call(this,t),r=null==(e=(0,W.ac)(this,v,g))?void 0:e[n];if(!r){let t={...(0,W.ac)(this,v,g),[n]:i};localStorage.setItem((0,W.ac)(this,p),JSON.stringify(t))}if(r&&i-r>(0,W.ac)(this,f)){let t=(0,W.ac)(this,v,g);delete t[n],localStorage.setItem((0,W.ac)(this,p),JSON.stringify(t))}return!!r}};p=new WeakMap,f=new WeakMap,v=new WeakSet,m=function(t){let{sk:e,pk:i,payload:n,...r}=t,s={...n,...r};return JSON.stringify(Object.keys({...n,...r}).sort().map(t=>s[t]))},g=function(){let t=localStorage.getItem((0,W.ac)(this,p));return t?JSON.parse(t):{}},w=function(){if("undefined"==typeof window)return!1;let t=window.localStorage;if(!t)return!1;try{let e="test";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t.length>0&&t.removeItem((0,W.ac)(this,p)),!1}};var ta={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},to=class{constructor(t){var e,i,n,r,s,a;(0,W.Ko)(this,U),(0,W.Ko)(this,_),(0,W.Ko)(this,b),(0,W.Ko)(this,y,{}),(0,W.Ko)(this,k,[]),(0,W.Ko)(this,S),(0,W.qx)(this,_,{maxBufferSize:null!=(e=t.maxBufferSize)?e:ta.maxBufferSize,samplingRate:null!=(i=t.samplingRate)?i:ta.samplingRate,disabled:null!=(n=t.disabled)&&n,debug:null!=(r=t.debug)&&r,endpoint:ta.endpoint}),t.clerkVersion||"undefined"!=typeof window?(0,W.ac)(this,y).clerkVersion=null!=(s=t.clerkVersion)?s:"":(0,W.ac)(this,y).clerkVersion="",(0,W.ac)(this,y).sdk=t.sdk,(0,W.ac)(this,y).sdkVersion=t.sdkVersion,(0,W.ac)(this,y).publishableKey=null!=(a=t.publishableKey)?a:"";let o=$(t.publishableKey);o&&((0,W.ac)(this,y).instanceType=o.instanceType),t.secretKey&&((0,W.ac)(this,y).secretKey=t.secretKey.substring(0,16)),(0,W.qx)(this,b,new ts)}get isEnabled(){var t;return!("development"!==(0,W.ac)(this,y).instanceType||(0,W.ac)(this,_).disabled||"undefined"!=typeof process&&tr(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null==(t=null==window?void 0:window.navigator)||!t.webdriver)}get isDebug(){return(0,W.ac)(this,_).debug||"undefined"!=typeof process&&tr(process.env.CLERK_TELEMETRY_DEBUG)}record(t){let e=(0,W.U9)(this,U,T).call(this,t.event,t.payload);(0,W.U9)(this,U,P).call(this,e.event,e),(0,W.U9)(this,U,A).call(this,e,t.eventSamplingRate)&&((0,W.ac)(this,k).push(e),(0,W.U9)(this,U,I).call(this))}};function tl(t,e){var i,n,r;return{event:"COMPONENT_MOUNTED",eventSamplingRate:.1,payload:{component:t,appearanceProp:!!(null==e?void 0:e.appearance),baseTheme:!!(null==(i=null==e?void 0:e.appearance)?void 0:i.baseTheme),elements:!!(null==(n=null==e?void 0:e.appearance)?void 0:n.elements),variables:!!(null==(r=null==e?void 0:e.appearance)?void 0:r.variables)}}}_=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,S=new WeakMap,U=new WeakSet,A=function(t,e){return this.isEnabled&&!this.isDebug&&(0,W.U9)(this,U,O).call(this,t,e)},O=function(t,e){let i=Math.random();return!(0,W.ac)(this,b).isEventThrottled(t)&&i<=(0,W.ac)(this,_).samplingRate&&(void 0===e||i<=e)},I=function(){if("undefined"==typeof window){(0,W.U9)(this,U,C).call(this);return}if((0,W.ac)(this,k).length>=(0,W.ac)(this,_).maxBufferSize){(0,W.ac)(this,S)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,W.ac)(this,S)),(0,W.U9)(this,U,C).call(this);return}!(0,W.ac)(this,S)&&("requestIdleCallback"in window?(0,W.qx)(this,S,requestIdleCallback(()=>{(0,W.U9)(this,U,C).call(this)})):(0,W.qx)(this,S,setTimeout(()=>{(0,W.U9)(this,U,C).call(this)},0)))},C=function(){fetch(new URL("/v1/event",(0,W.ac)(this,_).endpoint),{method:"POST",body:JSON.stringify({events:(0,W.ac)(this,k)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{(0,W.qx)(this,k,[])}).catch(()=>void 0)},P=function(t,e){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",t),console.log(e),console.groupEnd()):console.log("[clerk/telemetry]",t,e))},E=function(){let t={name:(0,W.ac)(this,y).sdk,version:(0,W.ac)(this,y).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(t={...t,...window.Clerk.constructor.sdkMetadata}),t},T=function(t,e){var i,n;let r=(0,W.U9)(this,U,E).call(this);return{event:t,cv:null!=(i=(0,W.ac)(this,y).clerkVersion)?i:"",it:null!=(n=(0,W.ac)(this,y).instanceType)?n:"",sdk:r.name,sdkv:r.version,...(0,W.ac)(this,y).publishableKey?{pk:(0,W.ac)(this,y).publishableKey}:{},...(0,W.ac)(this,y).secretKey?{sk:(0,W.ac)(this,y).secretKey}:{},payload:e}};var tc={firstDelay:125,maxDelay:0,timeMultiple:2,shouldRetry:()=>!0},th=async t=>new Promise(e=>setTimeout(e,t)),td=t=>{let e=0,i=()=>{let i=t.firstDelay*Math.pow(t.timeMultiple,e);return Math.min(t.maxDelay||i,i)};return async()=>{await th(i()),e++}},tu=async(t,e={})=>{let i=0,{shouldRetry:n,firstDelay:r,maxDelay:s,timeMultiple:a}={...tc,...e},o=td({firstDelay:r,maxDelay:s,timeMultiple:a});for(;;)try{return await t()}catch(t){if(!n(t,++i))throw t;await o()}};function tp(t,e,i){return"function"==typeof t?t(e):void 0!==t?t:void 0!==i?i:void 0}var tf=(...t)=>{};let tv="clerk:beforeunload",tm=["http:","https:","wails:","chrome-extension:"];function tg(t){let e=new URL(t,window.location.href);window.dispatchEvent(new CustomEvent(tv)),window.location.href=e.href}let tw=()=>{let t=!1,e=()=>t=!0;return{startTracking:()=>{window.addEventListener("beforeunload",e),window.addEventListener(tv,e)},stopTracking:()=>{window.removeEventListener("beforeunload",e),window.removeEventListener(tv,e)},isUnloading:()=>t}},t_=t=>{let{signUp:e,verifyEmailPath:i,verifyPhonePath:n,navigate:r,handleComplete:s,redirectUrl:a="",redirectUrlComplete:o=""}=t;if("complete"===e.status)return s&&s();if("missing_requirements"===e.status){var l,c;if(e.missingFields.some(t=>"saml"===t||"enterprise_sso"===t))return e.authenticateWithRedirect({strategy:"enterprise_sso",redirectUrl:a,redirectUrlComplete:o,continueSignUp:!0});if((null===(l=e.unverifiedFields)||void 0===l?void 0:l.includes("email_address"))&&i)return r(i);if((null===(c=e.unverifiedFields)||void 0===c?void 0:c.includes("phone_number"))&&n)return r(n)}},tb=(t,e)=>!!(t.session&&(null==e?void 0:e.authConfig.singleSessionMode)),ty=t=>!t.user,tk=t=>!t.organization,tS=(t,e)=>!(null==e?void 0:e.organizationSettings.enabled);function tU(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.errors&&!!t.errors.find(t=>t.code===e)}let tA=(0,D.t5)({packageName:"@clerk/clerk-js"});function tO(t){return new URL(window.location.href).searchParams.get(t)||null}function tI(t){let e=new URL(window.location.href);e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(window.history.state,"",e))}let tC=t=>!!t&&"object"==typeof t&&"target"in t&&"currentTarget"in t&&"preventDefault"in t;function tP(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e.requireType&&typeof t!==e.requireType||tC(t)))return t}var tE=i("990"),tT={toRegexp:t=>{try{return tE(t)}catch(e){throw Error(`Invalid pattern: ${t}.
Consult the documentation of glob-to-regexp here: https://www.npmjs.com/package/glob-to-regexp.
${e.message}`)}}};let tR=RegExp("/{1,}","g"),tx=t=>{let e={};return new URLSearchParams(t).forEach((t,i)=>{if(i in e){let n=e[i];Array.isArray(n)?n.push(t):e[i]=[n,t]}else e[i]=t}),e},tM=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||!t||"object"!=typeof t)return"";let i=new URLSearchParams;return Object.keys(t).forEach(n=>{let r=e.keyEncoder?e.keyEncoder(n):n,s=t[n];if(Array.isArray(s))s.forEach(t=>void 0!==t&&i.append(r,t||""));else{if(void 0===s)return;"object"==typeof s&&null!==s?i.append(r,JSON.stringify(s)):i.append(r,String(null!=s?s:""))}}),i.toString()},tW="http://clerk-dummy",tz=["javascript:"],{isDevOrStagingUrl:tN}=function(){let t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;let i="string"==typeof e?e:e.hostname,n=t.get(i);return void 0===n&&(n=q.some(t=>i.endsWith(t)),t.set(i,n)),n}}}(),tF=new Map;function tL(t){return t.replace("clerk.","")}function tD(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{base:i,hashPath:n,hashSearch:r,searchParams:s,hashSearchParams:a,...o}=t,l="",c=new URL(i||"","undefined"!=typeof window&&window.location?window.location.href:"http://react-native-fake-base-url");if(s instanceof URLSearchParams&&s.forEach((t,e)=>{null!=t&&c.searchParams.set(te(e),t)}),Object.assign(c,o),n||r||a){let t=new URL(tW+c.hash.substring(1));for(let[e,i]of(t.pathname=[t.pathname,n||""].filter(t=>t).join("/").replace(tR,"/"),Object.entries(tx(r||""))))t.searchParams.append(e,i);if(a)for(let e of Array.isArray(a)?a:[a])(e instanceof URLSearchParams||"object"==typeof e)&&new URLSearchParams(e).forEach((e,i)=>{null!=e&&t.searchParams.set(te(i),e)});let e=t.href.replace(tW,"");"/"!==e&&(c.hash=e)}let{stringify:h,skipOrigin:d}=e;return h?d?c.href.replace(c.origin,""):c.href:c}let tj=t=>(t||"").replace(/\/+$/,""),tJ=t=>{let{externalAccount:e}=t.verifications;return!!e.error};function tK(t,e){try{return new URL(t)}catch(i){return new URL(t,e)}}let tV=[/\0/,/^\/\//,/[\x00-\x1F]/],tq=["/oauth/authorize"],tB=["/v1/verify","/v1/tickets/accept"],t$=(t,e)=>i=>{let n=i;if("string"==typeof n&&(n=tK(n,e)),!t)return!0;let r=e===n.origin,s=!function(t){if(function(t){if(!function(t){if(!t)return!1;try{return new URL(t),!0}catch(t){return!1}}(t))return!1;let e=new URL(t).protocol;return tz.some(t=>t===e)}(t))return!0;for(let e of tV)if(e.test(t.pathname))return!0;return!1}(n)&&(r||t.map(t=>"string"==typeof t?tT.toRegexp(tj(t)):t).some(t=>t.test(tj(n.origin))));return s||Q.warnOnce("Clerk: Redirect URL ".concat(n," is not on one of the allowedRedirectOrigins, falling back to the default redirect URL.")),s};function tG(t){var e;return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(i.g.atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}function tH(t){let e=(t||"").split("."),[i,n,r]=e;if(3!==e.length||!i||!n||!r)throw Error("JWT could not be decoded");let s=JSON.parse(tG(n)),a={__raw:t};return Object.keys(s).forEach(t=>{a[t]=s[t]}),{encoded:{header:i,payload:n,signature:r},header:JSON.parse(tG(i)),claims:a}}let tY=()=>{},tZ=()=>{if(!u())return{onPageFocus:tY};let t={focus:[]};return window.addEventListener("focus",()=>{"visible"===document.visibilityState&&t.focus.forEach(t=>t())}),{onPageFocus:e=>{t.focus.push(e)}}};function tQ(){return void 0!==globalThis.document}function tX(){return tQ()&&window.self!==window.top&&!window.frameElement}function t0(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}function t1(t,e){if(void 0===t)throw TypeError("attempted to "+e+" private static field before its declaration")}function t3(t,e,i){return t0(t,e),t1(i,"get"),r(t,i)}var t2=new WeakMap,t9=new WeakMap,t6=new WeakMap;class t4{static getInstance(){if(!t3(t4,t4,t5)){var t;t=new t4,t0(t4,t4),t1(t5,"set"),c(t4,t5,t)}return t3(t4,t4,t5)}constructor(){if(l(this,t2,{writable:!0,value:[]}),l(this,t9,{writable:!0,value:{metamask:"MetaMask",okx_wallet:"OKX Wallet"}}),d(this,"get",t=>{var e;return 1===a(this,t2).length?a(this,t2)[0].provider:null===(e=a(this,t2).find(e=>e.info.name===a(this,t9)[t]))||void 0===e?void 0:e.provider}),l(this,t6,{writable:!0,value:t=>{!a(this,t2).some(e=>e.info.uuid===t.detail.info.uuid)&&a(this,t2).push(t.detail)}}),"undefined"==typeof window)return;window.addEventListener("eip6963:announceProvider",a(this,t6)),window.dispatchEvent(new Event("eip6963:requestProvider"))}}var t5={writable:!0,value:null};let t8=()=>t4.getInstance();async function t7(t){let{provider:e}=t,i=await eo(e);if(!i)return"";let n=await i.request({method:"eth_requestAccounts"});return n&&n[0]||""}async function et(t){let{identifier:e,nonce:i,provider:n}=t,r=await eo(n);return r?await r.request({method:"personal_sign",params:["0x".concat(i.split("").map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("")),e]}):""}async function ee(){return await t7({provider:"metamask"})}async function ei(){return await t7({provider:"coinbase_wallet"})}async function en(){return await t7({provider:"okx_wallet"})}async function er(t){return await et({...t,provider:"metamask"})}async function es(t){return await et({...t,provider:"coinbase_wallet"})}async function ea(t){return await et({...t,provider:"okx_wallet"})}async function eo(t){return"coinbase_wallet"===t?new(await i.e("88").then(i.bind(i,6850)).then(t=>t.CoinbaseWalletSDK))({}).makeWeb3Provider({options:"all"}):t8().get(t)}function el(t){let e=["redirectUrl","afterSignInUrl","afterSignUpUrl","after_sign_in_url","after_sign_up_url"],i=Object.keys(t).find(t=>e.includes(t));i&&t[i]&&Q.warnOnce('Clerk: The prop "'.concat(i,'" is deprecated and should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props'))}let ec="ClerkJS:";function eh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(ec," Something went wrong initializing Clerk in development mode.").concat(t&&" ".concat(t)))}function ed(t){throw Error("".concat(ec," Token refresh failed (error='").concat(t,"')"))}function eu(t){throw Error("".concat(ec," Something went wrong initializing Clerk during the ").concat(t," flow. Please contact support."))}function ep(t){throw Error("".concat(ec," You need to start a ").concat(t," flow by calling ").concat(t,".create() first."))}function ef(t,e){throw Error("".concat(ec,' Strategy "').concat(e,'" is not a valid strategy for ').concat(t,"."))}function ev(t){throw Error("".concat(ec," You need to start a ").concat(t," flow by calling ").concat(t,".create({ identifier: 'your web3 wallet address' }) first"))}function em(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(ec," Missing '").concat(t,"' option"))}function eg(t,e){throw Error("".concat(ec," Response: ").concat(t||0," not supported yet.\nFor more information contact us at ").concat(e))}function ew(t){throw Error("".concat(ec," Missing publicKey. When calling 'navigator.credentials.").concat(t,"()' it is required to pass a publicKey object."))}class e_{static get fapiClient(){return e_.clerk.getFapiClient()}static async _fetch(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e_.fapiClient||function(){throw Error("".concat(ec," Missing FAPI client in resources."))}();try{e=await e_.fapiClient.request(t)}catch(t){if(this.shouldRethrowOfflineNetworkErrors())throw new D.w$((null==t?void 0:t.message)||t,{code:"network_error"});if(!(M()&&x()))return console.warn(t),null;throw t}let{payload:n,status:r,statusText:s,headers:a}=e;if(a){let t=a.get("x-country");this.clerk.__internal_setCountry(t?t.toLowerCase():null)}if(("GET"!==t.method||i.forceUpdateClient)&&this._updateClient(n),r>=200&&r<=299)return n;if(r>=400){var o,l;let t=null==n?void 0:n.errors,e=null==t?void 0:null===(o=t[0])||void 0===o?void 0:o.long_message,i=null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.code;throw 401===r&&"requires_captcha"!==i&&await e_.clerk.handleUnauthenticated(),!function(t,e){var i;if(!e||!e[0])return;let n=e[0],r=n.long_message;if("origin_invalid"===n.code&&((i=e_.clerk.publishableKey).startsWith("live_")||i.startsWith("pk_live_"))){let i=e_.clerk.frontendApi.replace("clerk.","");throw new D.gO('Clerk: Production Keys are only allowed for domain "'.concat(i,'". \nAPI Error: ').concat(r),{data:e,status:t})}}(r,t),new D.gO(e||s,{data:t,status:r})}return null}static _updateClient(t){var e;if(!t)return;let i=t.client||(null===(e=t.meta)||void 0===e?void 0:e.client);i&&e_.clerk&&e_.clerk.updateClient(eA.getInstance().fromJSON(i))}isNew(){return!this.id}path(t){let e=this.pathRoot;if(this.isNew())return e;let i=e.replace(/[^/]$/,"$&/")+encodeURIComponent(this.id);return t?i.replace(/[^/]$/,"$&/")+encodeURIComponent(t):i}async _baseGet(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=await e_._fetch({method:"GET",path:this.path(),rotatingTokenNonce:t.rotatingTokenNonce},t);return this.fromJSON((null==e?void 0:e.response)||e)}async _baseMutate(t){let{action:e,body:i,method:n="POST",path:r}=t,s=await e_._fetch({method:n,path:r||this.path(e),body:i});return this.fromJSON((null==s?void 0:s.response)||s)}async _basePost(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"POST"})}async _basePut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PUT"})}async _basePatch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PATCH"})}async _baseDelete(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._baseMutate({...t,method:"DELETE"})}async reload(t){let{rotatingTokenNonce:e}=t||{};return this._baseGet({forceUpdateClient:!0,rotatingTokenNonce:e})}static shouldRethrowOfflineNetworkErrors(){var t,e;let i=null===(e=e_.clerk)||void 0===e?void 0:null===(t=e.__internal_getOption)||void 0===t?void 0:t.call(e,"experimental");return(null==i?void 0:i.rethrowOfflineNetworkErrors)||!1}constructor(){d(this,"id",void 0),d(this,"pathRoot","")}}d(e_,"clerk",void 0);class eb extends e_{get instanceIsPasswordBased(){return this.attributes.password.enabled&&this.attributes.password.required}get hasValidAuthFactor(){return this.attributes.email_address.enabled||this.attributes.phone_number.enabled||this.attributes.password.required&&this.attributes.username.required}fromJSON(t){var e,i,n;return t&&(this.social=t.social,this.saml=t.saml,this.enterpriseSSO=t.enterprise_sso,this.attributes=Object.fromEntries(Object.entries(t.attributes).map(t=>[t[0],{...t[1],name:t[0]}])),this.actions=t.actions,this.signIn=t.sign_in,this.signUp=t.sign_up,this.passwordSettings={...t.password_settings,min_length:Math.max(null==t?void 0:null===(e=t.password_settings)||void 0===e?void 0:e.min_length,8),max_length:(null==t?void 0:null===(i=t.password_settings)||void 0===i?void 0:i.max_length)===0?72:Math.min(null==t?void 0:null===(n=t.password_settings)||void 0===n?void 0:n.max_length,72)},this.passkeySettings=t.passkey_settings,this.socialProviderStrategies=this.getSocialProviderStrategies(t.social),this.authenticatableSocialStrategies=this.getAuthenticatableSocialStrategies(t.social),this.web3FirstFactors=this.getWeb3FirstFactors(this.attributes),this.enabledFirstFactorIdentifiers=this.getEnabledFirstFactorIdentifiers(this.attributes)),this}getEnabledFirstFactorIdentifiers(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&!e.startsWith("web3")}).map(t=>{let[e]=t;return e}):[]}getWeb3FirstFactors(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&e.startsWith("web3")}).map(t=>{let[,e]=t;return e.first_factors}).flat():[]}getSocialProviderStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}getAuthenticatableSocialStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled&&e.authenticatable}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}constructor(t){super(),d(this,"id",void 0),d(this,"social",void 0),d(this,"saml",void 0),d(this,"enterpriseSSO",void 0),d(this,"attributes",void 0),d(this,"actions",void 0),d(this,"signIn",void 0),d(this,"signUp",void 0),d(this,"passwordSettings",void 0),d(this,"passkeySettings",void 0),d(this,"socialProviderStrategies",[]),d(this,"authenticatableSocialStrategies",[]),d(this,"web3FirstFactors",[]),d(this,"enabledFirstFactorIdentifiers",[]),this.fromJSON(t)}}class ey extends e_{fromJSON(t){return this.singleSessionMode=!t||t.single_session_mode,this}constructor(t){super(),d(this,"singleSessionMode",void 0),this.fromJSON(t)}}function ek(t){let e=new Date(t||new Date);return e instanceof Date&&!isNaN(e.getTime())?e:new Date}class eS{static fromKey(t){let[e,i,n=""]=t.split("::");return new eS(e,{audience:n,tokenId:i})}toKey(){let{tokenId:t,audience:e}=this.data;return[this.prefix,t,e||""].join("::")}constructor(t,e){d(this,"prefix",void 0),d(this,"data",void 0),this.prefix=t,this.data=e,this.prefix=t,this.data=e}}let eU=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clerk",i=new Map;return{get:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=new eS(e,t),s=i.get(r.toKey());if(!s)return;let a=Math.floor(Date.now()/1e3)-s.createdAt;if(s.expiresIn-a<(n||1)+5){i.delete(r.toKey());return}return s.entry},set:n=>{let r=new eS(e,{audience:n.audience,tokenId:n.tokenId}).toKey(),s={entry:n,createdAt:Math.floor(Date.now()/1e3)},a=()=>{i.get(r)===s&&i.delete(r)};n.tokenResolver.then(e=>{if(!e.jwt)return a();let i=e.jwt.claims.exp-e.jwt.claims.iat;s.expiresIn=i,"function"==typeof(t=setTimeout(a,1e3*i)).unref&&t.unref()}).catch(()=>{a()}),i.set(r,s)},clear:()=>{clearTimeout(t),i.clear()},size:()=>i.size}}();class eA extends e_{static getInstance(){return eA.instance||(eA.instance=new eA),eA.instance}static isClientResource(t){return!!t&&t instanceof eA}get signUpAttempt(){return this.signUp}get signInAttempt(){return this.signIn}get activeSessions(){return this.sessions.filter(t=>"active"===t.status)}create(){return this._basePut()}fetch(){return this._baseGet()}async destroy(){return this._baseDelete({path:"/client"}).then(()=>{eU.clear(),this.id="",this.sessions=[],this.signUp=new iB(null),this.signIn=new iK(null),this.lastActiveSessionId=null,this.cookieExpiresAt=null,this.createdAt=null,this.updatedAt=null})}removeSessions(){return this._baseDelete({path:this.path()+"/sessions"})}clearCache(){return this.sessions.forEach(t=>t.clearCache())}isEligibleForTouch(){return!!this.cookieExpiresAt&&this.cookieExpiresAt.getTime()-Date.now()<=6912e5}buildTouchUrl(t){let{redirectUrl:e}=t;return e_.fapiClient.buildUrl({method:"GET",path:"/client/touch",pathPrefix:"v1",search:{redirect_url:e.toString()}}).toString()}sendCaptchaToken(t){return this._basePatch({body:t})}fromJSON(t){return t&&(this.id=t.id,this.sessions=(t.sessions||[]).map(t=>new iC(t)),this.signUp=new iB(t.sign_up),this.signIn=new iK(t.sign_in),this.lastActiveSessionId=t.last_active_session_id,this.cookieExpiresAt=t.cookie_expires_at?ek(t.cookie_expires_at):null,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}path(){return this.pathRoot}constructor(t=null){super(),d(this,"pathRoot","/client"),d(this,"sessions",[]),d(this,"signUp",new iB),d(this,"signIn",new iK),d(this,"lastActiveSessionId",null),d(this,"cookieExpiresAt",null),d(this,"createdAt",null),d(this,"updatedAt",null),this.fromJSON(t)}}d(eA,"instance",void 0);class eO{fromJSON(t){return t&&(this.object=t.object,this.id=t.id,this.slug=t.slug,this.deleted=t.deleted),this}constructor(t){d(this,"object",""),d(this,"id",void 0),d(this,"slug",void 0),d(this,"deleted",!1),this.fromJSON(t)}}class eI extends e_{fromJSON(t){return t&&(this.id=t.id,this.instanceEnvironmentType=t.instance_environment_type,this.applicationName=t.application_name,this.theme=t.theme,this.preferredSignInStrategy=t.preferred_sign_in_strategy,this.logoImageUrl=t.logo_image_url,this.faviconImageUrl=t.favicon_image_url,this.homeUrl=t.home_url,this.signInUrl=t.sign_in_url,this.signUpUrl=t.sign_up_url,this.userProfileUrl=t.user_profile_url,this.afterSignInUrl=t.after_sign_in_url,this.afterSignUpUrl=t.after_sign_up_url,this.afterSignOutOneUrl=t.after_sign_out_one_url,this.afterSignOutAllUrl=t.after_sign_out_all_url,this.afterSwitchSessionUrl=t.after_switch_session_url,this.branded=t.branded,this.captchaPublicKey=t.captcha_public_key,this.captchaWidgetType=t.captcha_widget_type,this.captchaProvider=t.captcha_provider,this.captchaPublicKeyInvisible=t.captcha_public_key_invisible,this.captchaOauthBypass=t.captcha_oauth_bypass||["oauth_google","oauth_microsoft","oauth_apple"],this.captchaHeartbeat=t.captcha_heartbeat||!1,this.captchaHeartbeatIntervalMs=t.captcha_heartbeat_interval_ms,this.supportEmail=t.support_email||"",this.clerkJSVersion=t.clerk_js_version,this.organizationProfileUrl=t.organization_profile_url,this.createOrganizationUrl=t.create_organization_url,this.afterLeaveOrganizationUrl=t.after_leave_organization_url,this.afterCreateOrganizationUrl=t.after_create_organization_url,this.googleOneTapClientId=t.google_one_tap_client_id,this.showDevModeWarning=t.show_devmode_warning,this.termsUrl=t.terms_url,this.privacyPolicyUrl=t.privacy_policy_url,this.waitlistUrl=t.waitlist_url,this.afterJoinWaitlistUrl=t.after_join_waitlist_url),this}constructor(t){super(),d(this,"id",void 0),d(this,"afterSignInUrl",void 0),d(this,"afterSignOutAllUrl",void 0),d(this,"afterSignOutOneUrl",void 0),d(this,"afterSignOutUrl",void 0),d(this,"afterSignUpUrl",void 0),d(this,"afterSwitchSessionUrl",void 0),d(this,"applicationName",void 0),d(this,"backendHost",void 0),d(this,"branded",void 0),d(this,"captchaPublicKey",null),d(this,"captchaWidgetType",null),d(this,"captchaProvider","turnstile"),d(this,"captchaPublicKeyInvisible",null),d(this,"captchaOauthBypass",[]),d(this,"captchaHeartbeat",!1),d(this,"captchaHeartbeatIntervalMs",void 0),d(this,"homeUrl",void 0),d(this,"instanceEnvironmentType",void 0),d(this,"faviconImageUrl",void 0),d(this,"logoImageUrl",void 0),d(this,"preferredSignInStrategy",void 0),d(this,"signInUrl",void 0),d(this,"signUpUrl",void 0),d(this,"supportEmail",void 0),d(this,"theme",void 0),d(this,"userProfileUrl",void 0),d(this,"clerkJSVersion",void 0),d(this,"experimental__forceOauthFirst",void 0),d(this,"organizationProfileUrl",void 0),d(this,"createOrganizationUrl",void 0),d(this,"afterLeaveOrganizationUrl",void 0),d(this,"afterCreateOrganizationUrl",void 0),d(this,"googleOneTapClientId",void 0),d(this,"showDevModeWarning",void 0),d(this,"termsUrl",void 0),d(this,"privacyPolicyUrl",void 0),d(this,"waitlistUrl",void 0),d(this,"afterJoinWaitlistUrl",void 0),this.fromJSON(t)}}var eC='const respond=r=>{self.postMessage(r)},workerToTabIds={};self.addEventListener("message",r=>{const e=r.data;switch(e.type){case"setTimeout":workerToTabIds[e.id]=setTimeout(()=>{respond({id:e.id}),delete workerToTabIds[e.id]},e.ms);break;case"clearTimeout":workerToTabIds[e.id]&&(clearTimeout(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break;case"setInterval":workerToTabIds[e.id]=setInterval(()=>{respond({id:e.id})},e.ms);break;case"clearInterval":workerToTabIds[e.id]&&(clearInterval(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break}});\n',eP=(t,e={})=>{if("undefined"==typeof Worker)return null;try{let i=new Blob([t],{type:"application/javascript; charset=utf-8"}),n=globalThis.URL.createObjectURL(i);return new Worker(n,e)}catch(t){return console.warn("Clerk: Cannot create worker from blob. Consider adding worker-src blob:; to your CSP"),null}},eE=()=>{let t=globalThis.setTimeout.bind(globalThis),e=globalThis.setInterval.bind(globalThis);return{setTimeout:t,setInterval:e,clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis),cleanup:tf}},eT=()=>{let t=0,e=()=>t++,i=new Map,n=(t,e)=>null==t?void 0:t.postMessage(e),r=t=>{var e;null==(e=i.get(t.data.id))||e()},s=eP(eC,{name:"clerk-timers"});if(null==s||s.addEventListener("message",r),!s)return eE();let a=()=>{s||null==(s=eP(eC,{name:"clerk-timers"}))||s.addEventListener("message",r)};return{setTimeout:(t,r)=>{a();let o=e();return i.set(o,()=>{t(),i.delete(o)}),n(s,{type:"setTimeout",id:o,ms:r}),o},setInterval:(t,r)=>{a();let o=e();return i.set(o,t),n(s,{type:"setInterval",id:o,ms:r}),o},clearTimeout:t=>{a(),i.delete(t),n(s,{type:"clearTimeout",id:t})},clearInterval:t=>{a(),i.delete(t),n(s,{type:"clearInterval",id:t})},cleanup:()=>{s&&(s.terminate(),s=null,i.clear())}}};function eR({delayInMs:t}={delayInMs:1e3}){let e;let i=eT(),n=!1,r=()=>{e&&(i.clearTimeout(e),i.cleanup()),n=!0},s=async a=>{n=!1,await a(r),!n&&(e=i.setTimeout(()=>{s(a)},t))};return{run:s,stop:r}}class ex extends e_{create(){return this._basePost({body:{email_address:this.emailAddress}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.verification=new eV(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new eZ(t))),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"emailAddress",""),d(this,"linkedTo",[]),d(this,"verification",void 0),d(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),d(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),d(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=eR();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||ep("SignUp"),await this.prepareVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),d(this,"destroy",()=>this._baseDelete()),d(this,"toString",()=>this.emailAddress),this.pathRoot=e,this.fromJSON(t)}}class eM extends e_{fromJSON(t){let{enabled:e=!1,max_allowed_memberships:i=0,actions:n,domains:r}=t||{};return this.enabled=e,this.maxAllowedMemberships=i,this.actions={adminDelete:(null==n?void 0:n.admin_delete)||!1},this.domains={enabled:(null==r?void 0:r.enabled)||!1,enrollmentModes:(null==r?void 0:r.enrollment_modes)||[],defaultRole:(null==r?void 0:r.default_role)||null},this}constructor(t){super(),d(this,"enabled",void 0),d(this,"maxAllowedMemberships",void 0),d(this,"actions",void 0),d(this,"domains",void 0),this.fromJSON(t)}}class eW extends e_{static getInstance(){return eW.instance||(eW.instance=new eW),eW.instance}fetch(){let{touch:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touch:!1};return t?this._basePatch({}):this._baseGet()}fromJSON(t){return t&&(this.authConfig=new ey(t.auth_config),this.displayConfig=new eI(t.display_config),this.userSettings=new eb(t.user_settings),this.organizationSettings=new eM(t.organization_settings),this.maintenanceMode=t.maintenance_mode),this}constructor(t=null){super(),d(this,"pathRoot","/environment"),d(this,"authConfig",void 0),d(this,"displayConfig",void 0),d(this,"userSettings",void 0),d(this,"organizationSettings",void 0),d(this,"maintenanceMode",void 0),d(this,"isSingleSession",()=>this.authConfig.singleSessionMode),d(this,"isProduction",()=>"production"===this.displayConfig.instanceEnvironmentType),d(this,"isDevelopmentOrStaging",()=>!this.isProduction()),d(this,"onWindowLocationHost",()=>this.displayConfig.backendHost===window.location.host),this.fromJSON(t)}}d(eW,"instance",void 0);class ez{static encode(t){return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(t){let e=atob(t.replace(/-/g,"+").replace(/_/g,"/")),i=e.length,n=new Uint8Array(i);for(let t=0;t<i;t++)n[t]=e.charCodeAt(t);return n.buffer}}async function eN(t){try{let e=await navigator.credentials.create({publicKey:t});if(!e)return{error:new D.RK("Browser failed to create credential",{code:"passkey_registration_failed"}),publicKeyCredential:null};return{publicKeyCredential:e,error:null}}catch(t){var e;return{error:"InvalidStateError"===(e=t).name?new D.RK(e.message,{code:"passkey_already_exists"}):"NotAllowedError"===e.name?new D.RK(e.message,{code:"passkey_registration_cancelled"}):eD(e),publicKeyCredential:null}}}let eF=new class{__abort(){if(!this.controller)return;let t=Error();t.name="AbortError",this.controller.abort(t)}createAbortSignal(){this.__abort();let t=new AbortController;return this.controller=t,t.signal}abort(){this.__abort(),this.controller=void 0}constructor(){d(this,"controller",void 0)}};async function eL(t){let{publicKeyOptions:e,conditionalUI:i}=t;try{let t=await navigator.credentials.get({publicKey:e,mediation:i?"conditional":"optional",signal:eF.createAbortSignal()});if(!t)return{error:new D.RK("Browser failed to get credential",{code:"passkey_retrieval_failed"}),publicKeyCredential:null};return{publicKeyCredential:t,error:null}}catch(t){var n;return{error:"NotAllowedError"===(n=t).name?new D.RK(n.message,{code:"passkey_retrieval_cancelled"}):eD(n),publicKeyCredential:null}}}function eD(t){return"AbortError"===t.name?new D.RK(t.message,{code:"passkey_operation_aborted"}):"SecurityError"===t.name?new D.RK(t.message,{code:"passkey_invalid_rpID_or_domain"}):t}function ej(t){return{type:t.type,id:t.id,rawId:eJ(t.rawId),authenticatorAttachment:t.authenticatorAttachment}}let eJ=ez.encode.bind(ez),eK=ez.decode.bind(ez);class eV extends e_{fromJSON(t){return t&&(this.status=t.status,this.verifiedAtClient=t.verified_at_client,this.strategy=t.strategy,this.nonce=t.nonce||null,this.message=t.message||null,t.external_verification_redirect_url?this.externalVerificationRedirectURL=new URL(t.external_verification_redirect_url):this.externalVerificationRedirectURL=null,this.attempts=t.attempts,this.expireAt=ek(t.expire_at),this.error=t.error?(0,D.nU)(t.error):null),this}constructor(t){super(),d(this,"pathRoot",""),d(this,"status",null),d(this,"strategy",null),d(this,"nonce",null),d(this,"message",null),d(this,"externalVerificationRedirectURL",null),d(this,"attempts",null),d(this,"expireAt",null),d(this,"error",null),d(this,"verifiedAtClient",null),d(this,"verifiedFromTheSameClient",()=>{var t,e;return this.verifiedAtClient===(null===(e=e_.clerk)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.id)}),this.fromJSON(t)}}class eq extends eV{fromJSON(t){return super.fromJSON(t),(null==t?void 0:t.nonce)&&(this.publicKey=function(t){let e=eK(t.user.id),i=eK(t.challenge),n=(t.excludeCredentials||[]).map(t=>({...t,id:eK(t.id)}));return{...t,excludeCredentials:n,challenge:i,user:{...t.user,id:e}}}(JSON.parse(t.nonce))),this}constructor(t){super(t),d(this,"publicKey",null),this.fromJSON(t)}}class eB{constructor(t){d(this,"emailAddress",void 0),d(this,"phoneNumber",void 0),d(this,"web3Wallet",void 0),d(this,"externalAccount",void 0),t?(this.emailAddress=new e$(t.email_address),this.phoneNumber=new e$(t.phone_number),this.web3Wallet=new e$(t.web3_wallet),this.externalAccount=new eV(t.external_account)):(this.emailAddress=new e$(null),this.phoneNumber=new e$(null),this.web3Wallet=new e$(null),this.externalAccount=new eV(null))}}class e$ extends eV{constructor(t){super(t),d(this,"nextAction",void 0),d(this,"supportedStrategies",void 0),t?(this.nextAction=t.next_action,this.supportedStrategies=t.supported_strategies):(this.nextAction="",this.supportedStrategies=[])}}class eG extends e_{fromJSON(t){return t&&(this.id=t.id,this.identificationId=t.identification_id,this.providerUserId=t.provider_user_id,this.approvedScopes=t.approved_scopes,this.imageUrl=t.image_url,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.provider=(t.provider||"").replace("oauth_",""),this.username=t.username,this.publicMetadata=t.public_metadata,this.label=t.label,t.verification&&(this.verification=new eV(t.verification))),this}providerSlug(){return this.provider}providerTitle(){return[function(t){let e=t||"";return e.charAt(0).toUpperCase()+e.slice(1)}(this.providerSlug()),"Account"].join(" ")}accountIdentifier(){return this.username||this.emailAddress||this.label}constructor(t,e){super(),d(this,"id",void 0),d(this,"identificationId",void 0),d(this,"provider",void 0),d(this,"providerUserId",""),d(this,"emailAddress",""),d(this,"approvedScopes",""),d(this,"firstName",""),d(this,"lastName",""),d(this,"imageUrl",""),d(this,"username",""),d(this,"publicMetadata",{}),d(this,"label",""),d(this,"verification",null),d(this,"reauthorize",t=>{let{additionalScopes:e,redirectUrl:i}=t||{};return this._basePatch({action:"reauthorize",body:{additional_scope:e,redirect_url:i}})}),d(this,"destroy",()=>this._baseDelete()),this.pathRoot=e,this.fromJSON(t)}}class eH extends e_{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.protocol=t.protocol,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.publicMetadata=t.public_metadata,t.verification&&(this.verification=new eV(t.verification)),t.enterprise_connection&&(this.enterpriseConnection=new eY(t.enterprise_connection))),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"protocol",void 0),d(this,"provider",void 0),d(this,"providerUserId",null),d(this,"active",void 0),d(this,"emailAddress",""),d(this,"firstName",""),d(this,"lastName",""),d(this,"publicMetadata",{}),d(this,"verification",null),d(this,"enterpriseConnection",null),this.pathRoot=e,this.fromJSON(t)}}class eY extends e_{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.logoPublicUrl=t.logo_public_url,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"active",void 0),d(this,"allowIdpInitiated",void 0),d(this,"allowSubdomains",void 0),d(this,"disableAdditionalIdentifications",void 0),d(this,"domain",void 0),d(this,"logoPublicUrl",""),d(this,"name",void 0),d(this,"protocol",void 0),d(this,"provider",void 0),d(this,"syncUserAttributes",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}class eZ extends e_{fromJSON(t){return t&&(this.id=t.id,this.type=t.type),this}constructor(t){super(),d(this,"id",void 0),d(this,"type",void 0),this.fromJSON(t)}}class eQ extends e_{static async create(t){var e;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n;return"string"==typeof n.file?(r=n.file,i=new Headers({"Content-Type":"application/octet-stream"})):n.file&&(r=new FormData).append("file",n.file),new eQ(null===(e=await e_._fetch({path:t,method:"POST",body:r,headers:i}))||void 0===e?void 0:e.response)}static async delete(t){var e;return new eQ(null===(e=await e_._fetch({path:t,method:"DELETE"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.publicUrl=t.public_url),this}constructor(t){super(),d(this,"id",void 0),d(this,"name",null),d(this,"publicUrl",null),this.fromJSON(t)}}class eX extends e_{fromJSON(t){return t&&(this.id=t.id,this.phoneNumber=t.phone_number,this.reservedForSecondFactor=t.reserved_for_second_factor,this.defaultSecondFactor=t.default_second_factor,this.verification=new eV(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new eZ(t)),this.backupCodes=t.backup_codes),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"phoneNumber",""),d(this,"reservedForSecondFactor",!1),d(this,"defaultSecondFactor",!1),d(this,"linkedTo",[]),d(this,"verification",void 0),d(this,"backupCodes",void 0),d(this,"create",()=>this._basePost({body:{phone_number:this.phoneNumber}})),d(this,"prepareVerification",()=>this._basePost({action:"prepare_verification",body:{strategy:"phone_code"}})),d(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),d(this,"setReservedForSecondFactor",t=>{let{reserved:e}=t||{};return this._basePatch({body:{reserved_for_second_factor:e}})}),d(this,"makeDefaultSecondFactor",()=>this._basePatch({body:{default_second_factor:!0}})),d(this,"destroy",()=>this._baseDelete()),d(this,"toString",()=>{let t=this.phoneNumber.match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:this.phoneNumber}),this.pathRoot=e,this.fromJSON(t)}}function e0(t){let{pageSize:e,initialPage:i,...n}=t||{},r=null!=e?e:10;return new URLSearchParams({...Object.entries(n).reduce((t,[e,i])=>(void 0!==i&&(t[e]=i),t),{}),limit:r+"",offset:((null!=i?i:1)-1)*r+""})}class e1 extends e_{static async create(t,e){var i;let{name:n}=e;return new e1(null===(i=await e_._fetch({path:"/organizations/".concat(t,"/domains"),method:"POST",body:{name:n}}))||void 0===i?void 0:i.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.organizationId=t.organization_id,this.enrollmentMode=t.enrollment_mode,this.affiliationEmailAddress=t.affiliation_email_address,this.totalPendingSuggestions=t.total_pending_suggestions,this.totalPendingInvitations=t.total_pending_invitations,t.verification?this.verification={status:t.verification.status,strategy:t.verification.strategy,attempts:t.verification.attempts,expiresAt:ek(t.verification.expires_at)}:this.verification=null),this}constructor(t){super(),d(this,"id",void 0),d(this,"name",void 0),d(this,"organizationId",void 0),d(this,"enrollmentMode",void 0),d(this,"verification",void 0),d(this,"affiliationEmailAddress",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"totalPendingInvitations",void 0),d(this,"totalPendingSuggestions",void 0),d(this,"prepareAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/prepare_affiliation_verification"),method:"POST",body:t})),d(this,"attemptAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/attempt_affiliation_verification"),method:"POST",body:t})),d(this,"updateEnrollmentMode",t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/update_enrollment_mode"),body:t})),d(this,"delete",()=>this._baseDelete({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id)})),this.fromJSON(t)}}class e3 extends e_{fromJSON(t){return t&&(this.id=t.id,this.organizationId=t.organization_id,this.status=t.status,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at),t.public_user_data&&(this.publicUserData=new iM(t.public_user_data))),this}constructor(t){super(),d(this,"id",void 0),d(this,"organizationId",void 0),d(this,"status",void 0),d(this,"publicUserData",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"accept",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/accept")})),d(this,"reject",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/reject")})),this.fromJSON(t)}}class e2 extends e_{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.type=t.type,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"key",void 0),d(this,"name",void 0),d(this,"description",void 0),d(this,"type",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}class e9 extends e_{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.permissions=t.permissions.map(t=>new e2(t)),this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"key",void 0),d(this,"name",void 0),d(this,"description",void 0),d(this,"permissions",[]),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}class e6 extends e_{static async create(t){var e;return new e6(null===(e=await e_._fetch({path:"/organizations",method:"POST",body:t}))||void 0===e?void 0:e.response)}static async get(t){var e;return new e6(null===(e=await e_._fetch({path:"/organizations/".concat(t),method:"GET"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.slug=t.slug,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.publicMetadata=t.public_metadata,this.membersCount=t.members_count,this.pendingInvitationsCount=t.pending_invitations_count,this.maxAllowedMemberships=t.max_allowed_memberships,this.adminDeleteEnabled=t.admin_delete_enabled,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}async reload(t){var e;let{rotatingTokenNonce:i}=t||{},n=null===(e=await e_._fetch({path:"/organizations/".concat(this.id),method:"GET",rotatingTokenNonce:i},{forceUpdateClient:!0}))||void 0===e?void 0:e.response;return this.fromJSON(n)}constructor(t){super(),d(this,"pathRoot","/organizations"),d(this,"id",void 0),d(this,"name",void 0),d(this,"slug",void 0),d(this,"imageUrl",void 0),d(this,"hasImage",void 0),d(this,"publicMetadata",{}),d(this,"adminDeleteEnabled",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"membersCount",0),d(this,"pendingInvitationsCount",0),d(this,"maxAllowedMemberships",void 0),d(this,"update",async t=>this._basePatch({body:t})),d(this,"getRoles",async t=>await e_._fetch({path:"/organizations/".concat(this.id,"/roles"),method:"GET",search:e0(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e9(t))}})),d(this,"getDomains",async t=>await e_._fetch({path:"/organizations/".concat(this.id,"/domains"),method:"GET",search:e0(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e1(t))}})),d(this,"getDomain",async t=>{var e;let{domainId:i}=t;return new e1(null===(e=await e_._fetch({path:"/organizations/".concat(this.id,"/domains/").concat(i),method:"GET"}))||void 0===e?void 0:e.response)}),d(this,"getMembershipRequests",async t=>await e_._fetch({path:"/organizations/".concat(this.id,"/membership_requests"),method:"GET",search:e0(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e3(t))}})),d(this,"createDomain",async t=>e1.create(this.id,{name:t})),d(this,"getMemberships",async t=>await e_._fetch({path:"/organizations/".concat(this.id,"/memberships"),method:"GET",search:e0({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e5(t))}})),d(this,"getInvitations",async t=>await e_._fetch({path:"/organizations/".concat(this.id,"/invitations"),method:"GET",search:e0(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e4(t))}})),d(this,"addMember",async t=>{let{userId:e,role:i}=t;return await e_._fetch({method:"POST",path:"/organizations/".concat(this.id,"/memberships"),body:{userId:e,role:i}}).then(t=>new e5(null==t?void 0:t.response))}),d(this,"inviteMember",async t=>e4.create(this.id,t)),d(this,"inviteMembers",async t=>e4.createBulk(this.id,t)),d(this,"updateMember",async t=>{let{userId:e,role:i}=t;return await e_._fetch({method:"PATCH",path:"/organizations/".concat(this.id,"/memberships/").concat(e),body:{role:i}}).then(t=>new e5(null==t?void 0:t.response))}),d(this,"removeMember",async t=>await e_._fetch({method:"DELETE",path:"/organizations/".concat(this.id,"/memberships/").concat(t)}).then(t=>new e5(null==t?void 0:t.response))),d(this,"destroy",async()=>this._baseDelete()),d(this,"setLogo",async t=>{let e,i,{file:n}=t;return null===n?await e_._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"DELETE"}).then(t=>new e6(null==t?void 0:t.response)):("string"==typeof n?(e=n,i=new Headers({"Content-Type":"application/octet-stream"})):(e=new FormData).append("file",n),await e_._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"PUT",body:e,headers:i}).then(t=>new e6(null==t?void 0:t.response)))}),this.fromJSON(t)}}class e4 extends e_{static async create(t,e){var i;let{emailAddress:n,role:r}=e;return new e4(null===(i=await e_._fetch({path:"/organizations/".concat(t,"/invitations"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response)}static async createBulk(t,e){var i;let{emailAddresses:n,role:r}=e;return(null===(i=await e_._fetch({path:"/organizations/".concat(t,"/invitations/bulk"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response).map(t=>new e4(t))}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.organizationId=t.organization_id,this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"emailAddress",void 0),d(this,"organizationId",void 0),d(this,"publicMetadata",{}),d(this,"status",void 0),d(this,"role",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"revoke",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/invitations/").concat(this.id,"/revoke")})),this.fromJSON(t)}}class e5 extends e_{fromJSON(t){return t&&(this.id=t.id,this.organization=new e6(t.organization),this.publicMetadata=t.public_metadata,t.public_user_data&&(this.publicUserData=new iM(t.public_user_data)),this.permissions=Array.isArray(t.permissions)?[...t.permissions]:[],this.role=t.role,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}reload(t){!function(t){throw Error("".concat(ec," Calling ").concat(t,".reload is not currently supported. Please contact support."))}("OrganizationMembership")}constructor(t){super(),d(this,"id",void 0),d(this,"publicMetadata",{}),d(this,"publicUserData",void 0),d(this,"organization",void 0),d(this,"permissions",[]),d(this,"role",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"destroy",async()=>await this._baseDelete({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId)})),d(this,"update",async t=>{let{role:e}=t;return await this._basePatch({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId),body:{role:e}})}),this.fromJSON(t)}}d(e5,"retrieve",async t=>await e_._fetch({path:"/me/organization_memberships",method:"GET",search:e0({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e5(t))}}));class e8 extends e_{static async retrieve(t){return await e_._fetch({path:"/me/organization_suggestions",method:"GET",search:e0(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e8(t))}})}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"publicOrganizationData",void 0),d(this,"status",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"accept",async()=>await this._basePost({path:"/me/organization_suggestions/".concat(this.id,"/accept")})),this.fromJSON(t)}}class e7 extends e_{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,t.verification&&(this.verification=new eV(t.verification)),t.saml_connection&&(this.samlConnection=new it(t.saml_connection))),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"provider","saml_custom"),d(this,"providerUserId",null),d(this,"active",!1),d(this,"emailAddress",""),d(this,"firstName",""),d(this,"lastName",""),d(this,"verification",null),d(this,"samlConnection",null),this.pathRoot=e,this.fromJSON(t)}}class it extends e_{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"name",void 0),d(this,"domain",void 0),d(this,"active",void 0),d(this,"provider",void 0),d(this,"syncUserAttributes",void 0),d(this,"allowSubdomains",void 0),d(this,"allowIdpInitiated",void 0),d(this,"disableAdditionalIdentifications",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}function ie(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function ii(t,e){o(t,e),e.add(t)}var ir=i("9996");let is={TokenUpdate:"token:update"},ia=(()=>{let t=new Map;return{on:(e,i)=>{var n;t.get(e)||t.set(e,[]),null===(n=t.get(e))||void 0===n||n.push(i)},dispatch:(e,i)=>{(t.get(e)||[]).forEach(t=>"function"==typeof t&&t(i))},off:(e,i)=>{let n=t.get(e)||[];n.length&&(i&&t.set(e,n.filter(t=>t!==i)),t.set(e,[]))}}})();async function io(t="",e){let{async:i,defer:n,beforeLoad:r,crossOrigin:s,nonce:a}=e||{};return tu(()=>new Promise((e,o)=>{t||o("loadScript cannot be called without a src"),document&&document.body||o("loadScript cannot be called when document does not exist");let l=document.createElement("script");s&&l.setAttribute("crossorigin",s),l.async=i||!1,l.defer=n||!1,l.addEventListener("load",()=>{l.remove(),e(l)}),l.addEventListener("error",()=>{l.remove(),o()}),l.src=t,l.nonce=a,null==r||r(l),document.body.appendChild(l)}),{shouldRetry:(t,e)=>e<5})}let il="clerk-captcha",ic="clerk-invisible-captcha",ih=t=>!!["crashed","undefined_error","102","103","104","106","110600","300","600"].find(e=>t.startsWith(e));async function id(t){return window.turnstile||await iu().catch(()=>ip(t)).catch(()=>{throw{captchaError:"captcha_script_failed_to_load"}}),window.turnstile}async function iu(){try{return await io("https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",{defer:!0})}catch(t){throw console.warn("Clerk: Failed to load the CAPTCHA script from Cloudflare. If you see a CSP error in your browser, please add the necessary CSP rules to your app. Visit https://clerk.com/docs/security/clerk-csp for more information."),t}}async function ip(t){try{return await io(t,{defer:!0})}catch(e){throw console.error("Clerk: Failed to load the CAPTCHA script from the URL: ",t),e}}let iv=async t=>{let e;let{siteKey:i,scriptUrl:n,widgetType:r,invisibleSiteKey:s}=t,{modalContainerQuerySelector:a,modalWrapperQuerySelector:o,closeModal:l,openModal:c}=t,h=await id(n),d=[],u="",p="",f=i,v=0,m=null;if(a&&o)m=r,e=a,await (null==c?void 0:c()),await new Promise(t=>{if(document.querySelector(a))return t(document.querySelector(a));let e=new MutationObserver(()=>{document.querySelector(a)&&(e.disconnect(),t(document.querySelector(a)))});e.observe(document.body,{childList:!0,subtree:!0})});if(!e&&"smart"===r){let t=document.getElementById(il);t?(m="smart",e="#".concat(il),t.style.display="block"):console.error("Cannot initialize Smart CAPTCHA widget because the `clerk-captcha` DOM element was not found; falling back to Invisible CAPTCHA widget. If you are using a custom flow, visit https://clerk.com/docs/custom-flows/bot-sign-up-protection for instructions")}if(!e){f=s,m="invisible",e=".".concat(ic);let t=document.createElement("div");t.classList.add(ic),document.body.appendChild(t)}let g=async()=>new Promise((t,i)=>{try{let n=h.render(e,{sitekey:f,appearance:"interaction-only",retry:"never","refresh-expired":"auto",callback:function(e){null==l||l(),t([e,n])},"before-interactive-callback":async()=>{if(o){let t=document.querySelector(o);null==t||t.style.setProperty("visibility","visible"),null==t||t.style.setProperty("pointer-events","all");return}},"error-callback":function(t){if(d.push(t),v<2&&ih(t.toString())){setTimeout(()=>{h.reset(n),v++},250);return}i([d.join(","),n])},"unsupported-callback":function(){return i(["This browser is not supported by the CAPTCHA.",n]),!0}})}catch(t){i([t,void 0])}});try{[u,p]=await g(),h.remove(p)}catch(i){let[t,e]=i;throw e&&h.remove(e),{captchaError:t}}finally{null==l||l();let t=document.querySelector(".".concat(ic));t&&document.body.removeChild(t);let e=document.getElementById(il);e&&(e.style.display="none")}return{captchaToken:u,captchaWidgetType:m}},im=t=>iv(t),ig="__clerk_synced",iw="__clerk_satellite_url",i_={FORM_IDENTIFIER_NOT_FOUND:"form_identifier_not_found"},ib=["/client","/waitlist"];function iy(t){let e=[],i=[];async function n(t){for await(let i of["undefined"!=typeof window&&window.__unstable__onBeforeRequest,...e].filter(t=>t))if(await i(t)===!1)return!1;return!0}async function r(t,e){for await(let n of["undefined"!=typeof window&&window.__unstable__onAfterResponse,...i].filter(t=>t))if(await n(t,e)===!1)return!1;return!0}function s(e){let{method:i,path:n,sessionId:r,search:s,rotatingTokenNonce:a}=e,o=new URLSearchParams(s);return o.append("__clerk_api_version","2024-10-01"),t.version&&o.append("_clerk_js_version",t.version),a&&o.append("rotating_token_nonce",a),"development"===t.instanceType&&t.isSatellite&&o.append("__domain",t.domain),i&&"GET"!==i&&"POST"!==i&&o.append("_method",i),n&&!ib.some(t=>n.startsWith(t))&&r&&o.append("_clerk_session_id",r),tM([...o.entries()].reduce((t,e)=>{let[i,n]=e;return t[i]=n.includes(",")?n.split(","):n,t},{}))}function a(e){let{path:i,pathPrefix:n="v1"}=e,{proxyUrl:r,domain:a,frontendApi:o,instanceType:l}=t;if(r){let t=new URL(r),a=t.pathname.slice(1,t.pathname.length);return tD({base:t.origin,pathname:"".concat(a,"/").concat(n).concat(i),search:s(e)},{stringify:!1})}return tD({base:"https://".concat(("production"===l?a:"")||o),pathname:"".concat(n).concat(i),search:s(e)},{stringify:!1})}async function o(e){var i;let s;let{method:o="GET",body:l}=e;e.url=a({...e,sessionId:null===(i=t.session)||void 0===i?void 0:i.id}),e.headers||(e.headers=new Headers),"GET"===o||l instanceof FormData||e.headers.has("content-type")||e.headers.set("content-type","application/x-www-form-urlencoded"),"application/x-www-form-urlencoded"===e.headers.get("content-type")&&(e.body=l?tM(l,{keyEncoder:te}):l);let c=await n(e),h="GET"===o?"GET":"POST",d=e.url.toString(),u={...e,credentials:"include",method:h};try{if(c){let t=M()?4:11;s="GET"===h?await tu(()=>fetch(d,u),{firstDelay:500,maxDelay:3e3,shouldRetry:(e,i)=>i<t}):await fetch(d,u)}else s=new Response("{}",e)}catch(t){!function(t,e){throw Error("".concat(ec,' Network error at "').concat(t,'" - ').concat(e,". Please try again."))}(d,t)}let p=await s.json(),f=Object.assign(s,{payload:p});return await r(e,f),f}return{buildEmailAddress:function(e){return function(t){let{localPart:e,frontendApi:i}=t,n=i?i.replace("clerk.",""):"clerk.com";return"".concat(e,"@").concat(n)}({localPart:e,frontendApi:t.frontendApi})},buildUrl:a,onAfterResponse:function(t){i.push(t)},onBeforeRequest:function(t){e.push(t)},request:o}}let ik=t=>{let e=t.__unstable__environment,i=iy(t),n=e?e.displayConfig.captchaProvider:"turnstile";return{captchaSiteKey:e?e.displayConfig.captchaPublicKey:null,captchaWidgetType:e?e.displayConfig.captchaWidgetType:null,captchaProvider:n,captchaPublicKeyInvisible:e?e.displayConfig.captchaPublicKeyInvisible:null,canUseCaptcha:e?e.userSettings.signUp.captcha_enabled&&t.isStandardBrowser:null,captchaURL:i.buildUrl({path:"cloudflare/turnstile/v0/api.js",pathPrefix:"",search:"?render=explicit"}).toString()}};class iS{async invisible(){let{captchaSiteKey:t,canUseCaptcha:e,captchaURL:i,captchaPublicKeyInvisible:n}=ik(this.clerk);if(e&&t&&i&&n)return im({siteKey:n,invisibleSiteKey:n,widgetType:"invisible",scriptUrl:i,captchaProvider:"turnstile"}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}})}async managed(){let{captchaSiteKey:t,canUseCaptcha:e,captchaURL:i,captchaWidgetType:n,captchaProvider:r,captchaPublicKeyInvisible:s}=ik(this.clerk);return e&&t&&i&&s?im({siteKey:t,widgetType:n,invisibleSiteKey:s,scriptUrl:i,captchaProvider:r,modalWrapperQuerySelector:"#cl-modal-captcha-wrapper",modalContainerQuerySelector:"#cl-modal-captcha-container",openModal:()=>this.clerk.__internal_openBlankCaptchaModal(),closeModal:()=>this.clerk.__internal_closeBlankCaptchaModal()}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}}):{}}constructor(t){d(this,"clerk",void 0),this.clerk=t}}let iU=new class{async execute(t){this.inflightRequest&&await this.inflightRequest;let e=t();return this.inflightRequest=e,e.then(t=>(this.inflightRequest=null,t))}blockUntilReady(){return this.inflightRequest?this.inflightRequest.then(()=>null):Promise.resolve()}managedChallenge(t){return new iS(t).managed()}constructor(){d(this,"inflightRequest",null)}};class iA extends e_{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.session=new iC(t.session),this.level=t.level,this.supportedFirstFactors=tn(t.supported_first_factors),this.supportedSecondFactors=tn(t.supported_second_factors),this.firstFactorVerification=new eV(t.first_factor_verification),this.secondFactorVerification=new eV(t.second_factor_verification)),this}constructor(t=null){super(),d(this,"status",void 0),d(this,"level",void 0),d(this,"session",void 0),d(this,"supportedFirstFactors",[]),d(this,"supportedSecondFactors",[]),d(this,"firstFactorVerification",new eV(null)),d(this,"secondFactorVerification",new eV(null)),this.fromJSON(t)}}var iO=new WeakMap,iI=new WeakSet;class iC extends e_{static isSessionResource(t){return!!t&&t instanceof iC}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.expireAt=ek(t.expire_at),this.abandonAt=ek(t.abandon_at),this.factorVerificationAge=t.factor_verification_age,this.lastActiveAt=ek(t.last_active_at),this.lastActiveOrganizationId=t.last_active_organization_id,this.actor=t.actor,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at),this.user=new iZ(t.user),t.public_user_data&&(this.publicUserData=new iM(t.public_user_data)),this.lastActiveToken=t.last_active_token?new i$(t.last_active_token):null),this}async _getToken(t){if(!this.user)return null;let{leewayInSeconds:e,template:i,skipCache:n=!1}=t||{},r=void 0===(null==t?void 0:t.organizationId)?this.lastActiveOrganizationId:null==t?void 0:t.organizationId;if(!i&&Number(e)>=60)throw Error("Leeway can not exceed the token lifespan (60 seconds)");let s=ie(this,iI,iP).call(this,i,r),a=n?void 0:eU.get({tokenId:s},e),o=!i&&r===this.lastActiveOrganizationId;if(a){let t=await a.tokenResolver;return o&&ia.dispatch(is.TokenUpdate,{token:t}),t.getRawString()||null}let l=i?"".concat(this.path(),"/tokens/").concat(i):"".concat(this.path(),"/tokens"),c=i?{}:{organizationId:r};await iU.blockUntilReady();let h=i$.create(l,c).catch(t=>{if((0,D.kD)(t)&&"requires_captcha"===t.errors[0].code)return iU.execute(async()=>{let t=await iU.managedChallenge(iC.clerk);return i$.create(l,{...c,...t})});throw t});return eU.set({tokenId:s,tokenResolver:h}),h.then(t=>(o&&ia.dispatch(is.TokenUpdate,{token:t}),t.getRawString()||null))}constructor(t){super(),ii(this,iI),d(this,"pathRoot","/client/sessions"),d(this,"id",void 0),d(this,"status",void 0),d(this,"lastActiveAt",void 0),d(this,"lastActiveToken",void 0),d(this,"lastActiveOrganizationId",void 0),d(this,"actor",void 0),d(this,"user",void 0),d(this,"publicUserData",void 0),d(this,"factorVerificationAge",null),d(this,"expireAt",void 0),d(this,"abandonAt",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"end",()=>(eU.clear(),this._basePost({action:"end"}))),d(this,"remove",()=>(eU.clear(),this._basePost({action:"remove"}))),d(this,"touch",()=>this._basePost({action:"touch",body:{active_organization_id:this.lastActiveOrganizationId}})),d(this,"clearCache",()=>eU.clear()),d(this,"getToken",async t=>tu(()=>this._getToken(t),{shouldRetry:(t,e)=>!(0,D.ix)(t)&&e<4})),d(this,"checkAuthorization",t=>{var e,i;let n=((null===(e=this.user)||void 0===e?void 0:e.organizationMemberships)||[]).find(t=>t.organization.id===this.lastActiveOrganizationId);return(0,ir.Q)({userId:null===(i=this.user)||void 0===i?void 0:i.id,factorVerificationAge:this.factorVerificationAge,orgId:null==n?void 0:n.id,orgRole:null==n?void 0:n.role,orgPermissions:null==n?void 0:n.permissions})(t)}),l(this,iO,{writable:!0,value:t=>{t&&eU.set({tokenId:ie(this,iI,iP).call(this),tokenResolver:Promise.resolve(t)})}}),d(this,"startVerification",async t=>{var e;let{level:i}=t;return new iA(null===(e=await e_._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify"),body:{level:i}}))||void 0===e?void 0:e.response)}),d(this,"prepareFirstFactorVerification",async t=>{var e;let i;switch(t.strategy){case"email_code":i={emailAddressId:t.emailAddressId};break;case"phone_code":i={phoneNumberId:t.phoneNumberId,default:t.default};break;default:ef("Session.prepareFirstFactorVerification",t.strategy)}return new iA(null===(e=await e_._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),d(this,"attemptFirstFactorVerification",async t=>{var e;return new iA(null===(e=await e_._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_first_factor"),body:{...t,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),d(this,"prepareSecondFactorVerification",async t=>{var e;return new iA(null===(e=await e_._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_second_factor"),body:t}))||void 0===e?void 0:e.response)}),d(this,"attemptSecondFactorVerification",async t=>{var e;return new iA(null===(e=await e_._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_second_factor"),body:t}))||void 0===e?void 0:e.response)}),this.fromJSON(t),a(this,iO).call(this,this.lastActiveToken)}}function iP(t,e){let i=void 0===e?this.lastActiveOrganizationId:e;return[this.id,t,i,this.updatedAt.getTime()].filter(Boolean).join("-")}function iE(){return x()&&"function"==typeof window.PublicKeyCredential}async function iT(){try{return iE()&&await window.PublicKeyCredential.isConditionalMediationAvailable()}catch(t){return!1}}async function iR(){try{return"undefined"!=typeof window&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch(t){return!1}}class ix extends e_{static async create(){return e_._fetch({path:"/me/passkeys",method:"POST"}).then(t=>new ix(null==t?void 0:t.response))}static async attemptVerification(t,e){let i=function(t){let e=t.response;return{...ej(t),response:{clientDataJSON:eJ(e.clientDataJSON),attestationObject:eJ(e.attestationObject),transports:e.getTransports()}}}(e);return e_._fetch({path:"/me/passkeys/".concat(t,"/attempt_verification"),method:"POST",body:{strategy:"passkey",publicKeyCredential:JSON.stringify(i)}}).then(t=>new ix(null==t?void 0:t.response))}static async registerPasskey(){var t;let e=ix.clerk.__internal_isWebAuthnSupported||iE,i=ix.clerk.__internal_createPublicCredentials||eN,n=ix.clerk.__internal_isWebAuthnPlatformAuthenticatorSupported||iR;if(!e())throw new D.RK("Passkeys are not supported on this device.",{code:"passkey_not_supported"});let r=await this.create(),{verification:s}=r,a=null==s?void 0:s.publicKey;if(a||ew("create"),(null===(t=a.authenticatorSelection)||void 0===t?void 0:t.authenticatorAttachment)==="platform"&&!await n())throw new D.RK("Registration requires a platform authenticator but the device does not support it.",{code:"passkey_pa_not_supported"});let{publicKeyCredential:o,error:l}=await i(a);if(!o)throw l;return this.attemptVerification(r.id,o)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.lastUsedAt=t.last_used_at?ek(t.last_used_at):null,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at),t.verification&&(this.verification=new eq(t.verification))),this}constructor(t){super(),d(this,"id",void 0),d(this,"pathRoot","/me/passkeys"),d(this,"verification",null),d(this,"name",null),d(this,"lastUsedAt",null),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"update",t=>this._basePatch({body:t})),d(this,"delete",async()=>{var t;return new eO(null===(t=await e_._fetch({path:this.path(),method:"DELETE"}))||void 0===t?void 0:t.response)}),this.fromJSON(t)}}class iM{fromJSON(t){return t&&(this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.identifier=t.identifier,this.userId=t.user_id),this}constructor(t){d(this,"firstName",void 0),d(this,"lastName",void 0),d(this,"imageUrl",void 0),d(this,"hasImage",void 0),d(this,"identifier",void 0),d(this,"userId",void 0),this.fromJSON(t)}}let iW=t=>({id:t.id,deviceType:t.device_type,browserName:t.browser_name,browserVersion:t.browser_version,country:t.country,city:t.city,isMobile:t.is_mobile,ipAddress:t.ip_address});class iz extends e_{static retrieve(){var t;let e=null===(t=e_.clerk.session)||void 0===t?void 0:t.id;return this.clerk.getFapiClient().request({method:"GET",path:"/me/sessions/active",sessionId:e}).then(t=>t.payload.map(t=>new iz(t,"/me/sessions"))).catch(()=>[])}revoke(){return this._basePost({action:"revoke",body:{}})}fromJSON(t){var e;return t&&(this.id=t.id,this.status=t.status,this.expireAt=ek(t.expire_at),this.abandonAt=ek(t.abandon_at),this.lastActiveAt=ek(t.last_active_at),this.latestActivity=iW(null!==(e=t.latest_activity)&&void 0!==e?e:{}),this.actor=t.actor),this}constructor(t,e){super(),d(this,"pathRoot",""),d(this,"id",void 0),d(this,"status",void 0),d(this,"abandonAt",void 0),d(this,"expireAt",void 0),d(this,"lastActiveAt",void 0),d(this,"latestActivity",void 0),d(this,"actor",void 0),this.pathRoot=e,this.fromJSON(t)}}let iN=()=>Promise.all([i.e("539").then(i.bind(i,2918)),i.e("129").then(i.bind(i,3712))]).then(t=>{let[e,i]=t,{zxcvbnOptions:n,zxcvbn:r}=e,{dictionary:s,adjacencyGraphs:a}=i;return n.setOptions({dictionary:{...s},graphs:a}),r}),iF=t=>{let e;if(t.allowed_special_characters){let i=t.allowed_special_characters.replace("[","\\[");i=i.replace("]","\\]"),e=new RegExp("[".concat(i,"]"))}else e=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/;return(t,i)=>{let{minLength:n,maxLength:r}=i;return{max_length:t.length<r,min_length:t.length>=n,require_numbers:/\d/.test(t),require_lowercase:/[a-z]/.test(t),require_uppercase:/[A-Z]/.test(t),require_special_char:e.test(t)}}},iL=(t,e)=>{let{max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o}=e,l=iF(e)(t,{maxLength:e.max_length,minLength:e.min_length}),c={max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o},h=new Map;for(let t in c)c[t]&&(l[t]||h.set(t,!0));return Object.freeze(Object.fromEntries(h))},iD=t=>e=>iL(e,t),ij=t=>{let{min_zxcvbn_strength:e,onResult:i}=t;return t=>n=>{let r=t(n);return(null==i||i(r),r.score>=e&&r.score<3)?{state:"pass",keys:["unstable__errors.zxcvbn.couldBeStronger"],result:r}:r.score>=e?{state:"excellent",result:r}:{state:"fail",keys:["unstable__errors.zxcvbn.notEnough",...r.feedback.suggestions.map(t=>"unstable__errors.zxcvbn.suggestions.".concat(t))],result:r}}},iJ=(t,e)=>{let{onValidation:i=tf,onValidationComplexity:n=tf}=e||{},{show_zxcvbn:r,validatePassword:s}=t,a=iD(t),o=ij(t),l={};return(t,e)=>{let{onValidation:c=i,onValidationComplexity:h=n}=e||{};if(!s)return;let d=a(t);h(0===Object.keys(d).length),l={...l,complexity:d},r&&iN().then(e=>{let i=o(e)(t);c({...l={...l,strength:i},strength:i})}),(!l.complexity||0!==Object.keys(l.complexity).length||!r)&&c(l)}};class iK extends e_{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.supportedIdentifiers=t.supported_identifiers,this.identifier=t.identifier,this.supportedFirstFactors=tn(t.supported_first_factors),this.supportedSecondFactors=tn(t.supported_second_factors),this.firstFactorVerification=new eV(t.first_factor_verification),this.secondFactorVerification=new eV(t.second_factor_verification),this.createdSessionId=t.created_session_id,this.userData=new iV(t.user_data)),this}constructor(t=null){super(),d(this,"pathRoot","/client/sign_ins"),d(this,"id",void 0),d(this,"status",null),d(this,"supportedIdentifiers",[]),d(this,"supportedFirstFactors",[]),d(this,"supportedSecondFactors",null),d(this,"firstFactorVerification",new eV(null)),d(this,"secondFactorVerification",new eV(null)),d(this,"identifier",null),d(this,"createdSessionId",null),d(this,"userData",new iV(null)),d(this,"create",t=>this._basePost({path:this.pathRoot,body:t})),d(this,"resetPassword",t=>this._basePost({body:t,action:"reset_password"})),d(this,"prepareFirstFactor",t=>{let e;switch(t.strategy){case"passkey":e={};break;case"email_link":e={emailAddressId:t.emailAddressId,redirectUrl:t.redirectUrl};break;case"email_code":case"reset_password_email_code":e={emailAddressId:t.emailAddressId};break;case"phone_code":e={phoneNumberId:t.phoneNumberId,default:t.default};break;case"web3_metamask_signature":case"web3_coinbase_wallet_signature":case"web3_okx_wallet_signature":e={web3WalletId:t.web3WalletId};break;case"reset_password_phone_code":e={phoneNumberId:t.phoneNumberId};break;case"saml":case"enterprise_sso":e={redirectUrl:t.redirectUrl,actionCompleteRedirectUrl:t.actionCompleteRedirectUrl};break;default:ef("SignIn.prepareFirstFactor",t.strategy)}return this._basePost({body:{...e,strategy:t.strategy},action:"prepare_first_factor"})}),d(this,"attemptFirstFactor",t=>{let e;return e="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(function(t){let e=t.response;return{...ej(t),response:{clientDataJSON:eJ(e.clientDataJSON),authenticatorData:eJ(e.authenticatorData),signature:eJ(e.signature),userHandle:e.userHandle?eJ(e.userHandle):null}}}(t.publicKeyCredential))}:{...t},this._basePost({body:{...e,strategy:t.strategy},action:"attempt_first_factor"})}),d(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=eR();return{startEmailLinkFlow:async i=>{let{emailAddressId:n,redirectUrl:r}=i;return this.id||ep("SignIn"),await this.prepareFirstFactor({strategy:"email_link",emailAddressId:n,redirectUrl:r}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.firstFactorVerification.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),d(this,"prepareSecondFactor",t=>this._basePost({body:t,action:"prepare_second_factor"})),d(this,"attemptSecondFactor",t=>this._basePost({body:t,action:"attempt_second_factor"})),d(this,"authenticateWithRedirect",async t=>{let{strategy:e,redirectUrl:i,redirectUrlComplete:n,identifier:r}=t||{},{firstFactorVerification:s}=("saml"===e||"enterprise_sso"===e)&&this.id?await this.prepareFirstFactor({strategy:e,redirectUrl:iK.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}):await this.create({strategy:e,identifier:r,redirectUrl:iK.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}),{status:a,externalVerificationRedirectURL:o}=s;"unverified"===a&&o?tg(o):eg(a,iK.fapiClient.buildEmailAddress("support"))}),d(this,"authenticateWithWeb3",async t=>{var e;let i;let{identifier:n,generateSignature:r,strategy:s="web3_metamask_signature"}=t||{},a=s.replace("web3_","").replace("_signature","");"function"!=typeof r&&em("generateSignature"),await this.create({identifier:n});let o=null===(e=this.supportedFirstFactors)||void 0===e?void 0:e.find(t=>t.strategy===s);o||ev("SignIn"),await this.prepareFirstFactor(o);let{message:l}=this.firstFactorVerification;l||ev("SignIn");try{i=await r({identifier:n,nonce:l,provider:a})}catch(t){if("coinbase_wallet"===a&&4001===t.code)i=await r({identifier:n,nonce:l,provider:a});else throw t}return this.attemptFirstFactor({signature:i,strategy:s})}),d(this,"authenticateWithMetamask",async()=>{let t=await ee();return this.authenticateWithWeb3({identifier:t,generateSignature:er,strategy:"web3_metamask_signature"})}),d(this,"authenticateWithCoinbaseWallet",async()=>{let t=await ei();return this.authenticateWithWeb3({identifier:t,generateSignature:es,strategy:"web3_coinbase_wallet_signature"})}),d(this,"authenticateWithOKXWallet",async()=>{let t=await en();return this.authenticateWithWeb3({identifier:t,generateSignature:ea,strategy:"web3_okx_wallet_signature"})}),d(this,"authenticateWithPasskey",async t=>{let{flow:e}=t||{},i=iK.clerk.__internal_isWebAuthnSupported||iE,n=iK.clerk.__internal_getPublicCredentials||eL,r=iK.clerk.__internal_isWebAuthnAutofillSupported||iT;if(!i())throw new D.RK("Passkeys are not supported",{code:"passkey_not_supported"});if("autofill"===e||"discoverable"===e)await this.create({strategy:"passkey"});else{let t=this.supportedFirstFactors.find(t=>"passkey"===t.strategy);t||function(){throw Error("".concat(ec," You need to start a SignIn flow by calling SignIn.create({ strategy: 'passkey' }) first"))}(),await this.prepareFirstFactor(t)}let{nonce:s}=this.firstFactorVerification,a=s?function(t){let e=eK(t.challenge),i=(t.allowCredentials||[]).map(t=>({...t,id:eK(t.id)}));return{...t,allowCredentials:i,challenge:e}}(JSON.parse(s)):null;a||ew("get");let o=!1;"autofill"===e&&(o=await r());let{publicKeyCredential:l,error:c}=await n({publicKeyOptions:a,conditionalUI:o});if(!l)throw c;return this.attemptFirstFactor({publicKeyCredential:l,strategy:"passkey"})}),d(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=iK.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return iJ({...null===(n=iK.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class iV{fromJSON(t){return t&&(this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=t.image_url,this.hasImage=t.has_image),this}constructor(t){d(this,"firstName",void 0),d(this,"lastName",void 0),d(this,"imageUrl",void 0),d(this,"hasImage",void 0),this.fromJSON(t)}}function iq(t){let{unsafeMetadata:e}={...t},i=e?"object"==typeof e?JSON.stringify(e):e:"";return{...t,...e?{unsafeMetadata:i}:{}}}class iB extends e_{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.requiredFields=t.required_fields,this.optionalFields=t.optional_fields,this.missingFields=t.missing_fields,this.unverifiedFields=t.unverified_fields,this.verifications=new eB(t.verifications),this.username=t.username,this.firstName=t.first_name,this.lastName=t.last_name,this.emailAddress=t.email_address,this.phoneNumber=t.phone_number,this.hasPassword=t.has_password,this.unsafeMetadata=t.unsafe_metadata,this.createdSessionId=t.created_session_id,this.createdUserId=t.created_user_id,this.abandonAt=t.abandon_at,this.web3wallet=t.web3_wallet,this.legalAcceptedAt=t.legal_accepted_at),this}shouldBypassCaptchaForAttempt(t){if(!t.strategy)return!1;let e=iB.clerk.__unstable__environment.displayConfig.captchaOauthBypass;return!!(e.some(e=>e===t.strategy)||t.transfer&&e.some(t=>t===iB.clerk.client.signIn.firstFactorVerification.strategy))}constructor(t=null){super(),d(this,"pathRoot","/client/sign_ups"),d(this,"id",void 0),d(this,"status",null),d(this,"requiredFields",[]),d(this,"optionalFields",[]),d(this,"missingFields",[]),d(this,"unverifiedFields",[]),d(this,"verifications",new eB(null)),d(this,"username",null),d(this,"firstName",null),d(this,"lastName",null),d(this,"emailAddress",null),d(this,"phoneNumber",null),d(this,"web3wallet",null),d(this,"externalAccount",void 0),d(this,"hasPassword",!1),d(this,"unsafeMetadata",{}),d(this,"createdSessionId",null),d(this,"createdUserId",null),d(this,"abandonAt",null),d(this,"legalAcceptedAt",null),d(this,"create",async t=>{{let{captchaSiteKey:e,canUseCaptcha:i,captchaURL:n,captchaWidgetType:r,captchaProvider:s,captchaPublicKeyInvisible:a}=ik(iB.clerk);if(!this.shouldBypassCaptchaForAttempt(t)&&i&&e&&n&&a)try{let i=await im({siteKey:e,widgetType:r,invisibleSiteKey:a,scriptUrl:n,captchaProvider:s});t.captchaToken=i.captchaToken,t.captchaWidgetType=i.captchaWidgetType}catch(e){if(e.captchaError)t.captchaError=e.captchaError;else throw new D.w$(e.message,{code:"captcha_unavailable"})}}if(t.transfer&&this.shouldBypassCaptchaForAttempt(t)){var e;t.strategy=null===(e=iB.clerk.client)||void 0===e?void 0:e.signIn.firstFactorVerification.strategy}return this._basePost({path:this.pathRoot,body:iq(t)})}),d(this,"prepareVerification",t=>this._basePost({body:t,action:"prepare_verification"})),d(this,"attemptVerification",t=>this._basePost({body:t,action:"attempt_verification"})),d(this,"prepareEmailAddressVerification",t=>this.prepareVerification(t||{strategy:"email_code"})),d(this,"attemptEmailAddressVerification",t=>this.attemptVerification({...t,strategy:"email_code"})),d(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=eR();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||ep("SignUp"),await this.prepareEmailAddressVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.verifications.emailAddress.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),d(this,"preparePhoneNumberVerification",t=>this.prepareVerification(t||{strategy:"phone_code"})),d(this,"attemptPhoneNumberVerification",t=>this.attemptVerification({...t,strategy:"phone_code"})),d(this,"prepareWeb3WalletVerification",t=>this.prepareVerification({strategy:"web3_metamask_signature",...t})),d(this,"attemptWeb3WalletVerification",async t=>{let{signature:e,strategy:i="web3_metamask_signature"}=t;return this.attemptVerification({signature:e,strategy:i})}),d(this,"authenticateWithWeb3",async t=>{let e;let{generateSignature:i,identifier:n,unsafeMetadata:r,strategy:s="web3_metamask_signature",legalAccepted:a}=t||{},o=s.replace("web3_","").replace("_signature","");"function"!=typeof i&&em("generateSignature");let l=n||this.web3wallet;await this.create({web3Wallet:l,unsafeMetadata:r,legalAccepted:a}),await this.prepareWeb3WalletVerification({strategy:s});let{message:c}=this.verifications.web3Wallet;c||ev("SignUp");try{e=await i({identifier:n,nonce:c,provider:o})}catch(t){if("coinbase_wallet"===o&&4001===t.code)e=await i({identifier:n,nonce:c,provider:o});else throw t}return this.attemptWeb3WalletVerification({signature:e,strategy:s})}),d(this,"authenticateWithMetamask",async t=>{let e=await ee();return this.authenticateWithWeb3({identifier:e,generateSignature:er,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_metamask_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),d(this,"authenticateWithCoinbaseWallet",async t=>{let e=await ei();return this.authenticateWithWeb3({identifier:e,generateSignature:es,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_coinbase_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),d(this,"authenticateWithOKXWallet",async t=>{let e=await en();return this.authenticateWithWeb3({identifier:e,generateSignature:ea,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_okx_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),d(this,"authenticateWithRedirect",async t=>{let{redirectUrl:e,redirectUrlComplete:i,strategy:n,continueSignUp:r=!1,unsafeMetadata:s,emailAddress:a,legalAccepted:o}=t,l=()=>{let t={strategy:n,redirectUrl:iB.clerk.buildUrlWithAuth(e),actionCompleteRedirectUrl:i,unsafeMetadata:s,emailAddress:a,legalAccepted:o};return r&&this.id?this.update(t):this.create(t)},{verifications:c}=await l().catch(async t=>{if((0,D.kD)(t)&&(0,D.pG)(t))return await iB.clerk.__unstable__environment.reload(),l();throw t}),{externalAccount:h}=c,{status:d,externalVerificationRedirectURL:u}=h;"unverified"===d&&u?tg(u):eg(d,iB.fapiClient.buildEmailAddress("support"))}),d(this,"update",t=>this._basePatch({body:iq(t)})),d(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=iB.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return iJ({...null===(n=iB.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class i$ extends e_{static async create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i$(await e_._fetch({path:t,method:"POST",body:e}),t)}fromJSON(t){return t&&(this.jwt=tH(t.jwt)),this}constructor(t,e){super(),d(this,"pathRoot","tokens"),d(this,"jwt",void 0),d(this,"getRawString",()=>{var t;return(null===(t=this.jwt)||void 0===t?void 0:t.claims.__raw)||""}),e&&(this.pathRoot=e),(null==t?void 0:t.jwt)&&(this.jwt=tH(t.jwt))}}class iG extends e_{fromJSON(t){return t&&(this.id=t.id,this.secret=t.secret,this.uri=t.uri,this.verified=t.verified,this.backupCodes=t.backup_codes,this.updatedAt=ek(t.updated_at),this.createdAt=ek(t.created_at)),this}constructor(t){super(),d(this,"pathRoot","/me"),d(this,"id",""),d(this,"secret",void 0),d(this,"uri",void 0),d(this,"verified",!1),d(this,"backupCodes",void 0),d(this,"updatedAt",null),d(this,"createdAt",null),this.fromJSON(t)}}let iH=t=>{let{firstName:e,lastName:i,name:n}=t;return n||[e,i].join(" ").trim()||""};class iY extends e_{fromJSON(t){return t&&(this.id=t.id,this.codes=t.codes,this.updatedAt=ek(t.updated_at),this.createdAt=ek(t.created_at)),this}constructor(t){super(),d(this,"pathRoot","/me"),d(this,"id",void 0),d(this,"codes",[]),d(this,"updatedAt",null),d(this,"createdAt",null),this.fromJSON(t)}}class iZ extends e_{static isUserResource(t){return!!t&&t instanceof iZ}path(){return this.pathRoot}get verifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get unverifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)!="verified"})}get verifiedWeb3Wallets(){return this.web3Wallets.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get hasVerifiedEmailAddress(){return this.emailAddresses.filter(t=>"verified"===t.verification.status).length>0}get hasVerifiedPhoneNumber(){return this.phoneNumbers.filter(t=>"verified"===t.verification.status).length>0}fromJSON(t){return t&&(this.id=t.id,this.externalId=t.external_id,this.firstName=t.first_name,this.lastName=t.last_name,(this.firstName||this.lastName)&&(this.fullName=iH({firstName:this.firstName,lastName:this.lastName})),this.imageUrl=t.image_url,this.hasImage=t.has_image,this.username=t.username,this.passwordEnabled=t.password_enabled,this.emailAddresses=(t.email_addresses||[]).map(t=>new ex(t,this.path()+"/email_addresses")),this.primaryEmailAddressId=t.primary_email_address_id,this.primaryEmailAddress=this.emailAddresses.find(t=>{let{id:e}=t;return e===this.primaryEmailAddressId})||null,this.phoneNumbers=(t.phone_numbers||[]).map(t=>new eX(t,this.path()+"/phone_numbers")),this.primaryPhoneNumberId=t.primary_phone_number_id,this.primaryPhoneNumber=this.phoneNumbers.find(t=>{let{id:e}=t;return e===this.primaryPhoneNumberId})||null,this.web3Wallets=(t.web3_wallets||[]).map(t=>new iX(t,this.path()+"/web3_wallets")),this.primaryWeb3WalletId=t.primary_web3_wallet_id,this.primaryWeb3Wallet=this.web3Wallets.find(t=>{let{id:e}=t;return e===this.primaryWeb3WalletId})||null,this.externalAccounts=(t.external_accounts||[]).map(t=>new eG(t,this.path()+"/external_accounts")),this.passkeys=(t.passkeys||[]).map(t=>new ix(t)),this.organizationMemberships=(t.organization_memberships||[]).map(t=>new e5(t)),this.samlAccounts=(t.saml_accounts||[]).map(t=>new e7(t,this.path()+"/saml_accounts")),this.enterpriseAccounts=(t.enterprise_accounts||[]).map(t=>new eH(t,this.path()+"/enterprise_accounts")),this.publicMetadata=t.public_metadata,this.unsafeMetadata=t.unsafe_metadata,this.totpEnabled=t.totp_enabled,this.backupCodeEnabled=t.backup_code_enabled,this.twoFactorEnabled=t.two_factor_enabled,this.createOrganizationEnabled=t.create_organization_enabled,this.createOrganizationsLimit=t.create_organizations_limit,this.deleteSelfEnabled=t.delete_self_enabled,t.last_sign_in_at&&(this.lastSignInAt=ek(t.last_sign_in_at)),t.legal_accepted_at&&(this.legalAcceptedAt=ek(t.legal_accepted_at)),this.updatedAt=ek(t.updated_at),this.createdAt=ek(t.created_at)),this}constructor(t){super(),d(this,"pathRoot","/me"),d(this,"id",""),d(this,"externalId",null),d(this,"username",null),d(this,"emailAddresses",[]),d(this,"phoneNumbers",[]),d(this,"web3Wallets",[]),d(this,"externalAccounts",[]),d(this,"enterpriseAccounts",[]),d(this,"passkeys",[]),d(this,"samlAccounts",[]),d(this,"organizationMemberships",[]),d(this,"passwordEnabled",!1),d(this,"firstName",null),d(this,"lastName",null),d(this,"fullName",null),d(this,"primaryEmailAddressId",null),d(this,"primaryEmailAddress",null),d(this,"primaryPhoneNumberId",null),d(this,"primaryPhoneNumber",null),d(this,"primaryWeb3WalletId",null),d(this,"primaryWeb3Wallet",null),d(this,"imageUrl",""),d(this,"hasImage",!1),d(this,"twoFactorEnabled",!1),d(this,"totpEnabled",!1),d(this,"backupCodeEnabled",!1),d(this,"publicMetadata",{}),d(this,"unsafeMetadata",{}),d(this,"createOrganizationEnabled",!1),d(this,"createOrganizationsLimit",null),d(this,"deleteSelfEnabled",!1),d(this,"lastSignInAt",null),d(this,"legalAcceptedAt",null),d(this,"updatedAt",null),d(this,"createdAt",null),d(this,"cachedSessionsWithActivities",null),d(this,"isPrimaryIdentification",t=>{switch(t.constructor){case ex:return this.primaryEmailAddressId===t.id;case eX:return this.primaryPhoneNumberId===t.id;case iX:return this.primaryWeb3WalletId===t.id;default:return!1}}),d(this,"createEmailAddress",t=>{let{email:e}=t||{};return new ex({email_address:e},this.path()+"/email_addresses/").create()}),d(this,"createPasskey",()=>ix.registerPasskey()),d(this,"createPhoneNumber",t=>{let{phoneNumber:e}=t||{};return new eX({phone_number:e},this.path()+"/phone_numbers/").create()}),d(this,"createWeb3Wallet",t=>{let{web3Wallet:e}=t||{};return new iX({web3_wallet:e},this.path()+"/web3_wallets/").create()}),d(this,"createExternalAccount",async t=>{var e;let{strategy:i,redirectUrl:n,additionalScopes:r}=t||{};return new eG(null===(e=await e_._fetch({path:"/me/external_accounts",method:"POST",body:{strategy:i,redirect_url:n,additional_scope:r}}))||void 0===e?void 0:e.response,this.path()+"/external_accounts")}),d(this,"createTOTP",async()=>{var t;return new iG(null===(t=await e_._fetch({path:"/me/totp",method:"POST"}))||void 0===t?void 0:t.response)}),d(this,"verifyTOTP",async t=>{var e;let{code:i}=t;return new iG(null===(e=await e_._fetch({path:"/me/totp/attempt_verification",method:"POST",body:{code:i}}))||void 0===e?void 0:e.response)}),d(this,"disableTOTP",async()=>{var t;return new eO(null===(t=await e_._fetch({path:"/me/totp",method:"DELETE"}))||void 0===t?void 0:t.response)}),d(this,"createBackupCode",async()=>{var t;return new iY(null===(t=await e_._fetch({path:this.path()+"/backup_codes/",method:"POST"}))||void 0===t?void 0:t.response)}),d(this,"update",t=>this._basePatch({body:iq(t)})),d(this,"updatePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/change_password")})),d(this,"removePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/remove_password")})),d(this,"delete",()=>this._baseDelete({path:"/me"})),d(this,"getSessions",async()=>{if(this.cachedSessionsWithActivities)return this.cachedSessionsWithActivities;let t=await iz.retrieve();return this.cachedSessionsWithActivities=t,t}),d(this,"setProfileImage",t=>{let{file:e}=t||{};return null===e?eQ.delete("".concat(this.path(),"/profile_image")):eQ.create("".concat(this.path(),"/profile_image"),{file:e})}),d(this,"getOrganizationInvitations",t=>iQ.retrieve(t)),d(this,"getOrganizationSuggestions",t=>e8.retrieve(t)),d(this,"getOrganizationMemberships",t=>e5.retrieve(t)),d(this,"leaveOrganization",async t=>{var e;return new eO(null===(e=await e_._fetch({path:"".concat(this.path(),"/organization_memberships/").concat(t),method:"DELETE"}))||void 0===e?void 0:e.response)}),this.fromJSON(t)}}class iQ extends e_{static async retrieve(t){return await e_._fetch({path:"/me/organization_invitations",method:"GET",search:e0(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iQ(t))}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=ek(t.created_at),this.updatedAt=ek(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"emailAddress",void 0),d(this,"publicOrganizationData",void 0),d(this,"publicMetadata",{}),d(this,"status",void 0),d(this,"role",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"accept",async()=>await this._basePost({path:"/me/organization_invitations/".concat(this.id,"/accept")})),this.fromJSON(t)}}class iX extends e_{create(){return this._basePost({body:{web3_wallet:this.web3Wallet}})}destroy(){return this._baseDelete()}toString(){return this.web3Wallet}fromJSON(t){return t&&(this.id=t.id,this.web3Wallet=t.web3_wallet,this.verification=new eV(t.verification)),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"web3Wallet",""),d(this,"verification",void 0),d(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),d(this,"attemptVerification",t=>{let{signature:e}=t;return this._basePost({action:"attempt_verification",body:{signature:e}})}),this.pathRoot=e,this.fromJSON(t)}}class i0 extends e_{fromJSON(t){return t&&(this.id=t.id,this.updatedAt=ek(t.updated_at),this.createdAt=ek(t.created_at)),this}static async join(t){var e;return new i0(null===(e=await e_._fetch({path:"/waitlist",method:"POST",body:t}))||void 0===e?void 0:e.response)}constructor(t){super(),d(this,"pathRoot","/waitlist"),d(this,"id",""),d(this,"updatedAt",null),d(this,"createdAt",null),this.fromJSON(t)}}function i1(t,e){var i,n,r,s;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||(i=e,n=t,i.organizationMemberships.length!==n.organizationMemberships.length||(null===(r=i.organizationMemberships[0])||void 0===r?void 0:r.updatedAt)!==(null===(s=n.organizationMemberships[0])||void 0===s?void 0:s.updatedAt))}function i3(t,e){return!function(t,e){if(!t&&e||t&&!e)return!0;if(!t&&t===e)return!1;if(!t||!e)return!0;try{if(eA.isClientResource(t))return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||t.sessions.length!==e.sessions.length;if(iC.isSessionResource(t)){var i,n;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||function(t,e){let i=t.factorVerificationAge,n=e.factorVerificationAge;return null!==i&&null!==n?i[0]!==n[0]||i[1]!==n[1]:i!==n}(t,e)||function(t,e){var i,n,r,s,a,o;if(t.lastActiveOrganizationId!==e.lastActiveOrganizationId)return!0;let l=null===(n=t.user)||void 0===n?void 0:null===(i=n.organizationMemberships)||void 0===i?void 0:i.find(e=>e.organization.id===t.lastActiveOrganizationId),c=null===(s=e.user)||void 0===s?void 0:null===(r=s.organizationMemberships)||void 0===r?void 0:r.find(e=>e.organization.id===t.lastActiveOrganizationId);return(null==l?void 0:l.role)!==(null==c?void 0:c.role)||(null==l?void 0:null===(a=l.permissions)||void 0===a?void 0:a.length)!==(null==c?void 0:null===(o=c.permissions)||void 0===o?void 0:o.length)}(t,e)||(i=t,n=e,!!i.user!=!!n.user||!!i.user&&!!n.user&&i1(i.user,n.user))}if(iZ.isUserResource(t))return i1(t,e)}catch(t){}return!0}(t,e)?t:e}var i2=t=>Object.entries(t).reduce((t,[e,i])=>(null!=i&&(t[e]=i),t),{}),i9=(t,e)=>{let i={};for(let n in t)i[n]=e(t[n],n);return i},i6=(t,e)=>{let i={};for(let n in t)t[n]&&e(t[n])&&(i[n]=t[n]);return i},i4=new WeakSet,i5=new WeakSet,i8=new WeakSet,i7=new WeakSet,nt=new WeakSet,ne=new WeakSet,ni=new WeakSet,nn=new WeakMap;class nr{getAfterSignInUrl(){return ie(this,i7,nl).call(this,"signIn")}getAfterSignUpUrl(){return ie(this,i7,nl).call(this,"signUp")}getPreservedSearchParams(){return ie(this,i4,ns).call(this,ie(this,i5,na).call(this))}toSearchParams(){return ie(this,i4,ns).call(this,ie(this,i8,no).call(this))}constructor(t,e={},i={}){ii(this,i4),ii(this,i5),ii(this,i8),ii(this,i7),ii(this,nt),ii(this,ne),ii(this,ni),d(this,"options",void 0),d(this,"fromOptions",void 0),d(this,"fromProps",void 0),d(this,"fromSearchParams",void 0),l(this,nn,{writable:!0,value:t=>{var e;return i6(t,t$(null===(e=this.options)||void 0===e?void 0:e.allowedRedirectOrigins,window.location.origin))}}),this.options=t,this.fromOptions=ie(this,nt,nc).call(this,t||{}),this.fromProps=ie(this,nt,nc).call(this,e||{}),this.fromSearchParams=ie(this,ne,nh).call(this,i||{})}}function ns(t){return new URLSearchParams(i2(Object.fromEntries(Object.entries(t).map(t=>{let[e,i]=t;return[te(e),i]}))))}function na(){return Object.fromEntries(Object.entries({...this.fromSearchParams}).filter(t=>{let[e]=t;return nr.preserved.includes(e)}))}function no(){let t=this.fromSearchParams.signUpForceRedirectUrl||this.fromProps.signUpForceRedirectUrl||this.fromOptions.signUpForceRedirectUrl,e=this.fromSearchParams.signUpFallbackRedirectUrl||this.fromProps.signUpFallbackRedirectUrl||this.fromOptions.signUpFallbackRedirectUrl,i=this.fromSearchParams.signInForceRedirectUrl||this.fromProps.signInForceRedirectUrl||this.fromOptions.signInForceRedirectUrl,n=this.fromSearchParams.signInFallbackRedirectUrl||this.fromProps.signInFallbackRedirectUrl||this.fromOptions.signInFallbackRedirectUrl,r=this.fromSearchParams.afterSignInUrl||this.fromProps.afterSignInUrl||this.fromOptions.afterSignInUrl,s={signUpForceRedirectUrl:t,signUpFallbackRedirectUrl:e,signInFallbackRedirectUrl:n,signInForceRedirectUrl:i,afterSignInUrl:r,afterSignUpUrl:this.fromSearchParams.afterSignUpUrl||this.fromProps.afterSignUpUrl||this.fromOptions.afterSignUpUrl,redirectUrl:this.fromSearchParams.redirectUrl||this.fromProps.redirectUrl||this.fromOptions.redirectUrl};return t&&delete s.signUpFallbackRedirectUrl,i&&delete s.signInFallbackRedirectUrl,s}function nl(t){var e,i;let n,r;let s="".concat(t,"ForceRedirectUrl"),a="".concat(t,"FallbackRedirectUrl"),o="after".concat(t[0].toUpperCase()).concat(t.slice(1),"Url");(r=this.fromSearchParams[s]||this.fromProps[s]||this.fromOptions[s])&&(n=s),r||(r=this.fromSearchParams.redirectUrl),r&&(n="redirectUrl"),r||(r=this.fromSearchParams[a]||this.fromProps[a]||this.fromOptions[a]),r&&(n=a);let l=this.fromSearchParams[o]||this.fromProps[o]||this.fromProps.redirectUrl||this.fromOptions[o];return e=n,(i=r)&&l&&Q.warnOnce('Clerk: The "'.concat(e,'" prop ("').concat(i,'") has priority over the legacy "').concat(o,'" (or "redirectUrl") ("').concat(l,'"), which will be completely ignored in this case. "').concat(o,'" (or "redirectUrl" prop) should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props')),r||(r=l),r||"/"}function nc(t){el(t);let e={};return nr.keys.forEach(i=>{e[i]=t[i]}),i9(a(this,nn).call(this,ie(this,ni,nd).call(this,i6(e,Boolean))),t=>t.toString())}function nh(t){el(t);let e={};return nr.keys.forEach(i=>{e[i]=t[te(i)]}),e.redirectUrl=t.redirect_url,i9(a(this,nn).call(this,ie(this,ni,nd).call(this,i6(e,Boolean))),t=>t.toString())}function nd(t){return i9(t,t=>tK(t,window.location.origin))}d(nr,"keys",["signInForceRedirectUrl","signInFallbackRedirectUrl","signUpForceRedirectUrl","signUpFallbackRedirectUrl","afterSignInUrl","afterSignUpUrl","redirectUrl"]),d(nr,"preserved",["redirectUrl"]);var nu="__clerk_db_jwt";function np(t,e){let i=new URL(t),n=i.searchParams.get(nu);i.searchParams.delete(nu);let r=n||e;return r&&i.searchParams.set(nu,r),i}var nf=t=>t.searchParams.get(nu)||"",nv=t=>nm(ng(t)),nm=t=>{let e=new URL(t);return e.searchParams.delete(nu),e},ng=t=>{let e=new URL(t);return e.searchParams.delete("__dev_session"),e.hash=decodeURI(e.hash).replace(/__clerk_db_jwt\[(.*)\]/,""),e.href.endsWith("#")&&(e.hash=""),e};function nw(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}var n_=function t(e,i){function n(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=nw({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in r){if(r[a])s+="; "+a,!0!==r[a]&&(s+="="+r[a].split(";")[0])}return document.cookie=t+"="+e.write(n,t)+s}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var s=i[r].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=e.read(a,o),t===o)break}catch(t){}}return t?n[t]:n}},remove:function(t,e){n(t,"",nw({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,nw({},this.attributes,e))},withConverter:function(e){return t(nw({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function nb(t){return{get:()=>n_.get(t),set(e,i={}){n_.set(t,e,i)},remove(e){n_.remove(t,e)}}}function ny(t,e){let i=function(t){try{return new Date(t||new Date)}catch(t){return new Date}}(t);return i.setFullYear(i.getFullYear()+e),i}let nk=nb("__clerk_test_etld"),nS=t=>"https:"===window.location.protocol||"None"===t&&void 0===window.safari&&(void 0!==window.isSecureContext?window.isSecureContext:"localhost"===window.location.hostname),nU="__client_uat",nA=t=>{let e=nb(nU),i=nb(H(nU,t));return{set:t=>{let r=ny(Date.now(),1),s=tX()?"None":"Strict",a=nS(s),o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nk;if(n)return n;if(["localhost","127.0.0.1","0.0.0.0"].includes(t))return t;let i=t.split(".");if(1===i.length)return t;for(let t=i.length-2;t>=0;t--){let r=i.slice(t).join(".");if(e.set("1",{domain:r}),"1"===e.get())return e.remove({domain:r}),n=r,r;e.remove({domain:r})}}(),l="0";t&&t.updatedAt&&t.activeSessions.length>0&&(l=Math.floor(t.updatedAt.getTime()/1e3).toString()),i.remove(),e.remove(),i.set(l,{expires:r,sameSite:s,domain:o,secure:a}),e.set(l,{expires:r,sameSite:s,domain:o,secure:a})},get:()=>parseInt(i.get()||e.get()||"0",10)}},nO="__session",nI=t=>{let e=nb(nO),i=nb(H(nO,t));return{set:t=>{let n=ny(Date.now(),1),r=tX()?"None":"Lax",s=nS(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};async function nC(t){let e;try{e=await G(t)}catch(a){Q.logOnce("Suffixed cookie failed due to ".concat(a.message," (secure-context: ").concat(window.isSecureContext,", url: ").concat(window.location.href,")"));let{default:n}=await i.e("199").then(i.t.bind(i,5900,23)),{default:r}=await i.e("199").then(i.t.bind(i,1667,23)),s=n(t);e=r.stringify(s).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}return e}let nP=t=>{let e=nb(nu),i=nb(H(nu,t));return{get:()=>i.get()||e.get(),set:t=>{let n=ny(Date.now(),1),r=tX()?"None":"Lax",s=nS(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};var nE=i("3145"),nT=i.n(nE);class nR{startPollingForSessionToken(t){!this.timerId&&(this.timerId=this.workerTimers.setInterval(()=>{this.lock.acquireLockAndRun(t)},5e3))}stopPollingForSessionToken(){this.timerId&&(this.workerTimers.clearInterval(this.timerId),this.timerId=null)}constructor(){d(this,"lock",function(t){let e=new(nT());return window.addEventListener("beforeunload",async()=>{await e.releaseLock(t)}),{acquireLockAndRun:async i=>{if(await e.acquireLock(t,5e3))try{return await i()}finally{await e.releaseLock(t)}}}}("clerk.lock.refreshSessionToken")),d(this,"workerTimers",eT()),d(this,"timerId",null)}}class nx{static async create(t,e){let i=await nC(t.publishableKey);return new nx(t,e,i)}setEnvironment(t){this.environment=t,this.setClientUatCookieForDevelopmentInstances()}isSignedOut(){return this.clerk.loaded?!!this.clerk.user:0>=this.clientUat.get()}async setupDevelopment(){await this.devBrowser.setup()}setupProduction(){this.devBrowser.clear()}async handleUnauthenticatedDevBrowser(){this.devBrowser.clear(),await this.devBrowser.setup()}decorateUrlWithDevBrowserToken(t){let e=this.devBrowser.getDevBrowserJWT();return e?np(t,e):function(){throw Error("".concat(ec," Missing dev browser jwt. Please contact support."))}()}startPollingForToken(){this.poller||(this.poller=new nR),this.poller.startPollingForSessionToken(()=>this.refreshSessionToken())}refreshTokenOnFocus(){window.addEventListener("focus",()=>{"visible"===document.visibilityState&&this.refreshSessionToken({updateCookieImmediately:!0})})}async refreshSessionToken(){let{updateCookieImmediately:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clerk.session)try{let e=await this.clerk.session.getToken();t&&this.updateSessionCookie(e)}catch(t){return this.handleGetTokenError(t)}}updateSessionCookie(t){if(document.hasFocus()||this.isCurrentOrganizationActive())return this.setActiveOrganizationInStorage(),t?this.sessionCookie.set(t):this.sessionCookie.remove()}setClientUatCookieForDevelopmentInstances(){var t;(null===(t=this.environment)||void 0===t?void 0:t.isDevelopmentOrStaging())&&this.inCustomDevelopmentDomain()&&this.clientUat.set(this.clerk.client)}inCustomDevelopmentDomain(){let t=this.clerk.frontendApi.replace("clerk.","");return!window.location.host.endsWith(t)}handleGetTokenError(t){if((0,D.kD)(t)||ed(t.message||t),(0,D.ix)(t)){this.clerk.handleUnauthenticated();return}!(0,D.eE)(t)&&ed(t.toString())}setActiveOrganizationInStorage(){var t;(null===(t=this.clerk.organization)||void 0===t?void 0:t.id)?localStorage.setItem("clerk_active_org",this.clerk.organization.id):localStorage.removeItem("clerk_active_org")}isCurrentOrganizationActive(){var t,e;let i=localStorage.getItem("clerk_active_org");return!i&&(null===(t=this.clerk.organization)||void 0===t||!t.id)||(null===(e=this.clerk.organization)||void 0===e?void 0:e.id)===i}constructor(t,e,i){d(this,"clerk",void 0),d(this,"environment",void 0),d(this,"poller",void 0),d(this,"clientUat",void 0),d(this,"sessionCookie",void 0),d(this,"devBrowser",void 0),this.clerk=t,this.poller=null,ia.on(is.TokenUpdate,t=>{let{token:e}=t;this.updateSessionCookie(e&&e.getRawString()),this.setClientUatCookieForDevelopmentInstances()}),this.refreshTokenOnFocus(),this.startPollingForToken(),this.clientUat=nA(i),this.sessionCookie=nI(i),this.devBrowser=function(t){let{cookieSuffix:e,frontendApi:i,fapiClient:n}=t,r=nP(e);function s(){return r.get()}function a(t){r.set(t)}function o(){r.remove()}return{clear:function(){o()},setup:async function(){if(!tN(i))return;n.onBeforeRequest(t=>{let e=s();e&&(null==t?void 0:t.url)&&(t.url=np(t.url,e))}),n.onAfterResponse((t,e)=>{var i;let n=null==e?void 0:null===(i=e.headers)||void 0===i?void 0:i.get("Clerk-Db-Jwt");n&&a(n)});let t=function(t){let e=nf(t);return nv(t).href!==t.href&&void 0!==globalThis.history&&globalThis.history.replaceState(null,"",nv(t)),e}(new URL(window.location.href));if(t){a(t);return}if(r.get())return;let e=n.buildUrl({path:"/dev_browser"}),o=await fetch(e.toString(),{method:"POST"});if(!o.ok){let t=await o.json(),e=(0,D.iR)(t.errors);e[0]?eh(e[0].longMessage):eh()}let l=await o.json();a(null==l?void 0:l.id)},getDevBrowserJWT:s,setDevBrowserJWT:a,removeDevBrowserJWT:o}}({frontendApi:t.frontendApi,fapiClient:e,cookieSuffix:i})}}class nM{async start(){this.isEnabled()&&(await this.challengeAndSend(),this.timers.setInterval(()=>{this.challengeAndSend()},this.intervalInMs()))}async challengeAndSend(){if(this.clerk.client)try{let t=await this.captchaChallenge.invisible();await this.clerk.client.sendCaptchaToken(t)}catch(t){}}isEnabled(){var t;return!!(null===(t=this.clerk.__unstable__environment)||void 0===t?void 0:t.displayConfig.captchaHeartbeat)}intervalInMs(){var t,e;return null!==(e=null===(t=this.clerk.__unstable__environment)||void 0===t?void 0:t.displayConfig.captchaHeartbeatIntervalMs)&&void 0!==e?e:6e5}constructor(t,e=new iS(t),i=eT()){d(this,"clerk",void 0),d(this,"captchaChallenge",void 0),d(this,"timers",void 0),this.clerk=t,this.captchaChallenge=e,this.timers=i}}let nW=t=>"\uD83D\uDD12 Clerk:\n".concat(t.trim(),"\n(This notice only appears in development)"),nz={cannotRenderComponentWhenSessionExists:"The <SignUp/> and <SignIn/> components cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the Home URL instead.",cannotRenderSignUpComponentWhenSessionExists:"The <SignUp/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the value set in `afterSignUp` URL instead.",cannotRenderSignInComponentWhenSessionExists:"The <SignIn/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the `afterSignIn` URL instead.",cannotRenderComponentWhenUserDoesNotExist:"<UserProfile/> cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotRenderComponentWhenOrgDoesNotExist:"<OrganizationProfile/> cannot render unless an organization is active. Since no organization is currently active, this is no-op.",cannotRenderAnyOrganizationComponent:t=>nW("The <".concat(t,"/> cannot be rendered when the feature is turned off. Visit 'dashboard.clerk.com' to enable the feature. Since the feature is turned off, this is no-op.")),cannotOpenUserProfile:"The UserProfile modal cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotOpenSignInOrSignUp:"The SignIn or SignUp modals do not render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, this is no-op."};for(let t of Object.keys(nz)){let e=nz[t];"function"!=typeof e&&(nz[t]=nW(e))}let nN={polling:!0,standardBrowser:!0,touchSession:!0,isSatellite:!1,signInUrl:void 0,signUpUrl:void 0,afterSignOutUrl:void 0,signInFallbackRedirectUrl:void 0,signUpFallbackRedirectUrl:void 0,signInForceRedirectUrl:void 0,signUpForceRedirectUrl:void 0};var nF=new WeakMap,nL=new WeakMap,nD=new WeakMap,nj=new WeakMap,nJ=new WeakMap,nK=new WeakMap,nV=new WeakMap,nq=new WeakMap,nB=new WeakMap,n$=new WeakMap,nG=new WeakMap,nH=new WeakMap,nY=new WeakMap,nZ=new WeakMap,nQ=new WeakMap,nX=new WeakMap,n0=new WeakMap,n1=new WeakMap,n3=new WeakMap,n2=new WeakMap,n9=new WeakMap,n6=new WeakMap,n4=new WeakMap,n5=new WeakMap,n8=new WeakMap,n7=new WeakMap,rt=new WeakMap,re=new WeakMap,ri=new WeakMap,rn=new WeakMap,rr=new WeakMap,rs=new WeakMap,ra=new WeakMap,ro=new WeakMap,rl=new WeakMap,rc=new WeakMap,rh=new WeakMap,rd=new WeakMap,ru=new WeakMap,rp=new WeakMap,rf=new WeakMap,rv=new WeakMap;class rm{get publishableKey(){return a(this,nF)}get version(){return rm.version}set sdkMetadata(t){rm.sdkMetadata=t}get sdkMetadata(){return rm.sdkMetadata}get loaded(){return a(this,n$)}get isSatellite(){return!!tQ()&&tp(a(this,nH).isSatellite,new URL(window.location.href),!1)}get domain(){if(tQ()){let t=function(t=""){return(t||"").replace(/^.+:\/\//,"")}(tp(a(this,nL),new URL(window.location.href)));return"production"===a(this,nB)?function(t){let e;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}let i=t.replace(e,"");return`clerk.${i}`}(t):t}return""}get proxyUrl(){if(tQ()){let t=tp(a(this,nD),new URL(window.location.href));return!(!t||X(t)||tt(t))&&tA.throwInvalidProxyUrl({url:t}),t?tt(t)?new URL(t,window.location.origin).toString():t:""}return""}get frontendApi(){let t=$(this.publishableKey);return t?t.frontendApi:tA.throwInvalidPublishableKeyError({key:this.publishableKey})}get instanceType(){return a(this,nB)}get isStandardBrowser(){return a(this,nH).standardBrowser||!1}__internal_getOption(t){return a(this,nH)[t]}buildUrlWithAuth(t){if("production"===a(this,nB))return t;let e=new URL(t,window.location.origin);return e.origin!==window.location.origin&&a(this,nj)?a(this,nj).decorateUrlWithDevBrowserToken(e).href:e.href}buildSignInUrl(t){return a(this,rd).call(this,"signInUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildSignUpUrl(t){return a(this,rd).call(this,"signUpUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildUserProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.userProfileUrl):""}buildHomeUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.homeUrl):""}buildAfterSignInUrl(){return this.buildUrlWithAuth(new nr(a(this,nH)).getAfterSignInUrl())}buildAfterSignUpUrl(){return this.buildUrlWithAuth(new nr(a(this,nH)).getAfterSignUpUrl())}buildAfterSignOutUrl(){return a(this,nH).afterSignOutUrl?this.buildUrlWithAuth(a(this,nH).afterSignOutUrl):"/"}buildWaitlistUrl(){return this.environment&&this.environment.displayConfig?tD({base:a(this,nH).waitlistUrl||this.environment.displayConfig.waitlistUrl},{stringify:!0}):""}buildAfterMultiSessionSingleSignOutUrl(){if(!a(this,nH).afterMultiSessionSingleSignOutUrl){var t;return this.buildUrlWithAuth(tD({base:a(this,nH).signInUrl?"".concat(a(this,nH).signInUrl,"/choose"):null===(t=this.environment)||void 0===t?void 0:t.displayConfig.afterSignOutOneUrl},{stringify:!0}))}return this.buildUrlWithAuth(a(this,nH).afterMultiSessionSingleSignOutUrl)}buildCreateOrganizationUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.createOrganizationUrl):""}buildOrganizationProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.organizationProfileUrl):""}updateEnvironment(t){var e;this.environment=t,null===(e=a(this,nj))||void 0===e||e.setEnvironment(t)}get __internal_last_error(){let t=this.internal_last_error;return this.internal_last_error=null,t}set __internal_last_error(t){this.internal_last_error=t}get __unstable__environment(){return this.environment}__internal_navigateWithError(t,e){return this.__internal_last_error=e,this.navigate(t)}assertComponentsReady(t){if(!rm.mountComponentRenderer)throw Error("ClerkJS was loaded without UI components.");if(!t)throw Error("ClerkJS components are not ready yet.")}constructor(t,e){var i=this;if(l(this,rv,{get:rg,set:void 0}),d(this,"__experimental_ui",void 0),d(this,"client",void 0),d(this,"session",void 0),d(this,"organization",void 0),d(this,"user",void 0),d(this,"__internal_country",void 0),d(this,"telemetry",void 0),d(this,"internal_last_error",null),d(this,"environment",void 0),l(this,nF,{writable:!0,value:""}),l(this,nL,{writable:!0,value:void 0}),l(this,nD,{writable:!0,value:void 0}),l(this,nj,{writable:!0,value:void 0}),l(this,nJ,{writable:!0,value:void 0}),l(this,nK,{writable:!0,value:null}),l(this,nV,{writable:!0,value:void 0}),l(this,nq,{writable:!0,value:void 0}),l(this,nB,{writable:!0,value:void 0}),l(this,n$,{writable:!0,value:!1}),l(this,nG,{writable:!0,value:[]}),l(this,nH,{writable:!0,value:{}}),l(this,nY,{writable:!0,value:null}),l(this,nZ,{writable:!0,value:0}),d(this,"__internal_createPublicCredentials",void 0),d(this,"__internal_getPublicCredentials",void 0),d(this,"__internal_isWebAuthnSupported",void 0),d(this,"__internal_isWebAuthnAutofillSupported",void 0),d(this,"__internal_isWebAuthnPlatformAuthenticatorSupported",void 0),d(this,"getFapiClient",()=>a(this,nq)),d(this,"load",async t=>{!this.loaded&&("development"===a(this,nB)&&Q.warnOnce("Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview"),h(this,nH,a(this,rp).call(this,t)),el(a(this,nH)),a(this,nH).sdkMetadata&&(rm.sdkMetadata=a(this,nH).sdkMetadata),!1!==a(this,nH).telemetry&&(this.telemetry=new to({clerkVersion:rm.version,samplingRate:1,publishableKey:this.publishableKey,...a(this,nH).telemetry})),a(this,nH).standardBrowser?h(this,n$,await a(this,n4).call(this)):h(this,n$,await a(this,n5).call(this)))}),d(this,"signOut",async(t,e)=>{var i,n,r;if(!this.client||0===this.client.sessions.length)return;let s=t&&"object"==typeof t?t:e||{},o=(null==s?void 0:s.redirectUrl)||this.buildAfterSignOutUrl(),l="function"==typeof t?t:()=>this.navigate(o);if(!s.sessionId||1===this.client.activeSessions.length)return null===(r=null===(n=a(this,nH).experimental)||void 0===n?void 0:n.persistClient)||void 0===r||r?await this.client.removeSessions():await this.client.destroy(),this.setActive({session:null,beforeEmit:tP(l),redirectUrl:o});let c=this.client.activeSessions.find(t=>t.id===s.sessionId),h=(null==c?void 0:c.id)&&(null===(i=this.session)||void 0===i?void 0:i.id)===c.id;if(await (null==c?void 0:c.remove()),h)return this.setActive({session:null,beforeEmit:tP(l),redirectUrl:o})}),d(this,"openGoogleOneTap",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"GoogleOneTap"}).then(e=>e.openModal("googleOneTap",t||{}))}),d(this,"closeGoogleOneTap",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("googleOneTap"))}),d(this,"openSignIn",t=>{if(this.assertComponentsReady(a(this,nV)),tb(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,nV).ensureMounted({preloadHint:"SignIn"}).then(e=>e.openModal("signIn",t||{}))}),d(this,"closeSignIn",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("signIn"))}),d(this,"__internal_openReverification",t=>{if(this.assertComponentsReady(a(this,nV)),ty(this)){if("development"===a(this,nB))throw new D.w$(nz.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserVerification"}).then(e=>e.openModal("userVerification",t||{}))}),d(this,"__internal_closeReverification",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("userVerification"))}),d(this,"__internal_openBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.openModal("blankCaptcha",{})))),d(this,"__internal_closeBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.closeModal("blankCaptcha")))),d(this,"openSignUp",t=>{if(this.assertComponentsReady(a(this,nV)),tb(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,nV).ensureMounted({preloadHint:"SignUp"}).then(e=>e.openModal("signUp",t||{}))}),d(this,"closeSignUp",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("signUp"))}),d(this,"openUserProfile",t=>{if(this.assertComponentsReady(a(this,nV)),ty(this)){if("development"===a(this,nB))throw new D.w$(nz.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserProfile"}).then(e=>e.openModal("userProfile",t||{}))}),d(this,"closeUserProfile",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("userProfile"))}),d(this,"openOrganizationProfile",t=>{if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}if(tk(this)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,nV).ensureMounted({preloadHint:"OrganizationProfile"}).then(e=>e.openModal("organizationProfile",t||{}))}),d(this,"closeOrganizationProfile",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("organizationProfile"))}),d(this,"openCreateOrganization",t=>{if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}a(this,nV).ensureMounted({preloadHint:"CreateOrganization"}).then(e=>e.openModal("createOrganization",t||{}))}),d(this,"closeCreateOrganization",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("createOrganization"))}),d(this,"openWaitlist",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"Waitlist"}).then(e=>e.openModal("waitlist",t||{}))}),d(this,"closeWaitlist",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("waitlist"))}),d(this,"mountSignIn",(t,e)=>{var i,n;(null==e?void 0:null===(i=e.__experimental)||void 0===i?void 0:i.newComponents)&&this.__experimental_ui?this.__experimental_ui.mount("SignIn",t,e):(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"SignIn"}).then(i=>i.mountComponent({name:"SignIn",appearanceKey:"signIn",node:t,props:e}))),null===(n=this.telemetry)||void 0===n||n.record(tl("SignIn",e))}),d(this,"unmountSignIn",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountSignUp",(t,e)=>{var i,n;(null==e?void 0:null===(i=e.__experimental)||void 0===i?void 0:i.newComponents)&&this.__experimental_ui?this.__experimental_ui.mount("SignUp",t,e):(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"SignUp"}).then(i=>i.mountComponent({name:"SignUp",appearanceKey:"signUp",node:t,props:e}))),null===(n=this.telemetry)||void 0===n||n.record(tl("SignUp",e))}),d(this,"unmountSignUp",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountUserProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,nV)),ty(this)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderComponentWhenUserDoesNotExist,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserProfile"}).then(i=>i.mountComponent({name:"UserProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tl("UserProfile",e))}),d(this,"unmountUserProfile",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountOrganizationProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}let n=!ty(this);if(tk(this)&&n){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,nV).ensureMounted({preloadHint:"OrganizationProfile"}).then(i=>i.mountComponent({name:"OrganizationProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tl("OrganizationProfile",e))}),d(this,"unmountOrganizationProfile",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountCreateOrganization",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"CreateOrganization"}).then(i=>i.mountComponent({name:"CreateOrganization",appearanceKey:"createOrganization",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tl("CreateOrganization",e))}),d(this,"unmountCreateOrganization",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountOrganizationSwitcher",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationSwitcher"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(i=>i.mountComponent({name:"OrganizationSwitcher",appearanceKey:"organizationSwitcher",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tl("OrganizationSwitcher",e))}),d(this,"unmountOrganizationSwitcher",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"__experimental_prefetchOrganizationSwitcher",()=>{var t;this.assertComponentsReady(a(this,nV)),null===(t=a(this,nV))||void 0===t||t.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(t=>t.prefetch("organizationSwitcher"))}),d(this,"mountOrganizationList",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new D.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationList"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"OrganizationList"}).then(i=>i.mountComponent({name:"OrganizationList",appearanceKey:"organizationList",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tl("OrganizationList",e))}),d(this,"unmountOrganizationList",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountUserButton",(t,e)=>{var i,n;this.assertComponentsReady(a(this,nV)),null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"UserButton"}).then(i=>i.mountComponent({name:"UserButton",appearanceKey:"userButton",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tl("UserButton",e))}),d(this,"unmountUserButton",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountWaitlist",(t,e)=>{var i,n;this.assertComponentsReady(a(this,nV)),null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"Waitlist"}).then(i=>i.mountComponent({name:"Waitlist",appearanceKey:"waitlist",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tl("Waitlist",e))}),d(this,"unmountWaitlist",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"setActive",async t=>{let{session:e,organization:i,beforeEmit:n,redirectUrl:r}=t;if(!this.client)throw Error("setActive is being called before the client is loaded. Wait for init.");if(void 0===e&&!this.session)throw Error("setActive should either be called with a session param or there should be already an active session.");let s="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:tf,o="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:tf;"string"==typeof e&&(e=this.client.sessions.find(t=>t.id===e)||null);let l=void 0===e?this.session:e,c=void 0!==i;if(l&&c){let t="string"==typeof i?i:null==i?void 0:i.id;if("string"==typeof t&&t.startsWith("org_"))l.lastActiveOrganizationId=t||null;else{let e=l.user.organizationMemberships.find(e=>e.organization.slug===t);l.lastActiveOrganizationId=(null==e?void 0:e.organization.id)||null}}(null==e?void 0:e.lastActiveToken)&&ia.dispatch(is.TokenUpdate,{token:e.lastActiveToken}),await s(),this.session&&null===l&&(a(this,ri).call(this),ia.dispatch(is.TokenUpdate,{token:null})),(tQ()&&globalThis.document.hasFocus()||!a(this,nH).standardBrowser)&&(await a(this,rt).call(this,l),l=a(this,ro).call(this,null==l?void 0:l.id)),await (null==l?void 0:l.getToken())||ia.dispatch(is.TokenUpdate,{token:null});let h=a(this,nH).standardBrowser?tw():void 0;if(n&&(null==h||h.startTracking(),a(this,rr).call(this),L("beforeEmit","Use the `redirectUrl` property instead."),await n(l),null==h||h.stopTracking()),r){if(null==h||h.startTracking(),a(this,rr).call(this),this.client.isEligibleForTouch()){let t=new URL(r,window.location.href);await this.navigate(this.buildUrlWithAuth(this.client.buildTouchUrl({redirectUrl:t})))}else await this.navigate(r);null==h||h.stopTracking()}(null==h||!h.isUnloading())&&(a(this,ra).call(this,l),a(this,re).call(this),await o(),a(this,rn).call(this))}),d(this,"addListener",t=>{var e;let i;return e=t,t=t=>{var n;i||(i={...t}),e(i={client:i3((n=i).client,t.client),session:i3(n.session,t.session),user:i3(n.user,t.user),organization:i3(n.organization,t.organization)})},a(this,nG).push(t),this.client&&t({client:this.client,session:this.session,user:this.user,organization:this.organization}),()=>{h(this,nG,a(this,nG).filter(e=>e!==t))}}),d(this,"navigate",async(t,e)=>{var i;if(!t||!tQ())return;let n=new URL(t,window.location.href);a(this,rv).includes(n.protocol)||(console.warn('Clerk: "'.concat(n.protocol,'" is not a valid protocol. Redirecting to "/" instead. If you think this is a mistake, please open an issue.')),n=new URL("/",window.location.href));let r=(null==e?void 0:e.replace)&&a(this,nH).routerReplace?a(this,nH).routerReplace:a(this,nH).routerPush;if(a(this,nH).routerDebug&&console.log("Clerk is navigating to: ".concat(n)),"null"!==n.origin&&n.origin!==window.location.origin||!r){tg(n);return}let s={...(null==e?void 0:e.metadata)?{__internal_metadata:null==e?void 0:e.metadata}:{},windowNavigate:tg};return await r((i=new URL((i=n).toString(),window.location.origin)).href.replace(i.origin,""),s)}),l(this,nQ,{writable:!0,value:async()=>{if(!tQ())return;let t=new URLSearchParams({[ig]:"true"}),e=tO(iw);e&&X(e)||function(){throw Error("".concat(ec," Invalid redirect_url. A valid http or https url should be used for the redirection."))}();let i=tD({base:tO(iw),searchParams:t},{stringify:!0});return this.navigate(this.buildUrlWithAuth(i))}}),d(this,"redirectWithAuth",async t=>{if(tQ())return this.navigate(this.buildUrlWithAuth(t))}),d(this,"redirectToSignIn",async t=>{if(tQ())return this.navigate(this.buildSignInUrl(t))}),d(this,"redirectToSignUp",async t=>{if(tQ())return this.navigate(this.buildSignUpUrl(t))}),d(this,"redirectToUserProfile",async()=>{if(tQ())return this.navigate(this.buildUserProfileUrl())}),d(this,"redirectToCreateOrganization",async()=>{if(tQ())return this.navigate(this.buildCreateOrganizationUrl())}),d(this,"redirectToOrganizationProfile",async()=>{if(tQ())return this.navigate(this.buildOrganizationProfileUrl())}),d(this,"redirectToAfterSignIn",async()=>{if(tQ())return this.navigate(this.buildAfterSignInUrl())}),d(this,"redirectToAfterSignUp",async()=>{if(tQ())return this.navigate(this.buildAfterSignUpUrl())}),d(this,"redirectToAfterSignOut",async()=>{if(tQ())return this.navigate(this.buildAfterSignOutUrl())}),d(this,"redirectToWaitlist",async()=>{if(tQ())return this.navigate(this.buildWaitlistUrl())}),d(this,"handleEmailLinkVerification",async(t,e)=>{if(!this.client)return;let i=tO("__clerk_status");if("expired"===i)throw new D.N(D._L.Expired);if("client_mismatch"===i)throw new D.N(D._L.ClientMismatch);if("verified"!==i)throw new D.N(D._L.Failed);let n=tO("__clerk_created_session"),{signIn:r,signUp:s,sessions:a}=this.client,o=a.some(t=>t.id===n),l="needs_second_factor"===r.status||"missing_requirements"===s.status,c=t=>e&&"function"==typeof e?e(t):this.navigate(t),h=t.redirectUrl?()=>c(t.redirectUrl):tf;return o?this.setActive({session:n,redirectUrl:t.redirectUrlComplete}):l?h():("function"==typeof t.onVerifiedOnOtherDevice&&t.onVerifiedOnOtherDevice(),null)}),d(this,"handleGoogleOneTapCallback",async(t,e,i)=>{if(!this.loaded||!this.environment||!this.client)return;let{signIn:n,signUp:r}=this.client,s="identifier"in(t||{})?t:n,a="missingFields"in(t||{})?t:r;return this._handleRedirectCallback(e,{signUp:a,signIn:s,navigate:t=>i&&"function"==typeof i?i(this.buildUrlWithAuth(t)):this.navigate(this.buildUrlWithAuth(t))})}),d(this,"_handleRedirectCallback",async(t,e)=>{var i,n,r,s,o,l,c;let{signIn:h,signUp:d,navigate:u}=e;if(!this.loaded||!this.environment||!this.client)return;let{displayConfig:p}=this.environment,{firstFactorVerification:f}=h,{externalAccount:v}=d.verifications,m={status:d.status,missingFields:d.missingFields,externalAccountStatus:v.status,externalAccountErrorCode:null===(i=v.error)||void 0===i?void 0:i.code,externalAccountSessionId:null===(r=v.error)||void 0===r?void 0:null===(n=r.meta)||void 0===n?void 0:n.sessionId,sessionId:d.createdSessionId},g={status:h.status,firstFactorVerificationStatus:f.status,firstFactorVerificationErrorCode:null===(s=f.error)||void 0===s?void 0:s.code,firstFactorVerificationSessionId:null===(l=f.error)||void 0===l?void 0:null===(o=l.meta)||void 0===o?void 0:o.sessionId,sessionId:h.createdSessionId},w=t=>()=>u(t),_=w(t.signInUrl||p.signInUrl),b=w(t.signUpUrl||p.signUpUrl),y=w(t.firstFactorUrl||tD({base:p.signInUrl,hashPath:"/factor-one"},{stringify:!0})),k=w(t.secondFactorUrl||tD({base:p.signInUrl,hashPath:"/factor-two"},{stringify:!0})),S=w(t.resetPasswordUrl||tD({base:p.signInUrl,hashPath:"/reset-password"},{stringify:!0})),U=new nr(a(this,nH),t),A=w(t.continueSignUpUrl||tD({base:p.signUpUrl,hashPath:"/continue"},{stringify:!0})),O=e=>{let{missingFields:i}=e;return i.length?A():t_({signUp:d,verifyEmailPath:t.verifyEmailAddressUrl||tD({base:p.signUpUrl,hashPath:"/verify-email-address"},{stringify:!0}),verifyPhonePath:t.verifyPhoneNumberUrl||tD({base:p.signUpUrl,hashPath:"/verify-phone-number"},{stringify:!0}),navigate:u})};if("complete"===g.status)return this.setActive({session:g.sessionId,redirectUrl:U.getAfterSignInUrl()});if("transferable"===m.externalAccountStatus&&"external_account_exists"===m.externalAccountErrorCode){let t=await h.create({transfer:!0});switch(t.status){case"complete":return this.setActive({session:t.createdSessionId,redirectUrl:U.getAfterSignInUrl()});case"needs_first_factor":return y();case"needs_second_factor":return k();case"needs_new_password":return S();default:eu("sign in")}}let I="user_locked"===m.externalAccountErrorCode,C="user_locked"===g.firstFactorVerificationErrorCode;if(I)return b();if(C)return _();if("needs_first_factor"===g.status&&!(null===(c=h.supportedFirstFactors)||void 0===c?void 0:c.every(t=>"enterprise_sso"===t.strategy)))return y();if("needs_new_password"===g.status)return S();if("transferable"===g.firstFactorVerificationStatus){if(!1===t.transferable)return _();let e=await d.create({transfer:!0});switch(e.status){case"complete":return this.setActive({session:e.createdSessionId,redirectUrl:U.getAfterSignUpUrl()});case"missing_requirements":return O({missingFields:e.missingFields});default:eu("sign in")}}if("complete"===m.status)return this.setActive({session:m.sessionId,redirectUrl:U.getAfterSignUpUrl()});if("needs_second_factor"===g.status)return k();let P=("failed"===m.externalAccountStatus||"unverified"===m.externalAccountStatus)&&"identifier_already_signed_in"===m.externalAccountErrorCode&&m.externalAccountSessionId,E="failed"===g.firstFactorVerificationStatus&&"identifier_already_signed_in"===g.firstFactorVerificationErrorCode&&g.firstFactorVerificationSessionId;if(P||E){let t=g.firstFactorVerificationSessionId||m.externalAccountSessionId;if(t)return this.setActive({session:t,redirectUrl:U.getAfterSignInUrl()})}return tJ(d)?b():"verified"===m.externalAccountStatus&&"missing_requirements"===m.status?O({missingFields:d.missingFields}):_()}),d(this,"handleRedirectCallback",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!i.loaded||!i.environment||!i.client)return;let{signIn:n,signUp:r}=i.client;return i._handleRedirectCallback(t,{signUp:r,signIn:n,navigate:t=>e&&"function"==typeof e?e(t):i.navigate(t)})}),d(this,"handleUnauthenticated",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{broadcast:!0};if(!i.client||!i.session)return;let e=await eA.getInstance().fetch();if(i.updateClient(e),!i.session)return t.broadcast&&a(i,ri).call(i),i.setActive({session:null})}),d(this,"authenticateWithGoogleOneTap",async t=>{var e;return null===(e=this.client)||void 0===e?void 0:e.signIn.create({strategy:"google_one_tap",token:t.token}).catch(e=>{if((0,D.kD)(e)&&"external_account_not_found"===e.errors[0].code){var i;return null===(i=this.client)||void 0===i?void 0:i.signUp.create({strategy:"google_one_tap",token:t.token,legalAccepted:t.legalAccepted})}throw e})}),d(this,"authenticateWithMetamask",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_metamask_signature"})}),d(this,"authenticateWithCoinbaseWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_coinbase_wallet_signature"})}),d(this,"authenticateWithOKXWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_okx_wallet_signature"})}),d(this,"authenticateWithWeb3",async t=>{let e,{redirectUrl:i,signUpContinueUrl:n,customNavigate:r,unsafeMetadata:s,strategy:a,legalAccepted:o}=t;if(!this.client||!this.environment)return;let l=a.replace("web3_","").replace("_signature",""),c=await t7({provider:l}),h="metamask"===l?er:"coinbase_wallet"===l?es:ea;try{e=await this.client.signIn.authenticateWithWeb3({identifier:c,generateSignature:h,strategy:a})}catch(t){if(tU(t,i_.FORM_IDENTIFIER_NOT_FOUND)){if(e=await this.client.signUp.authenticateWithWeb3({identifier:c,generateSignature:h,unsafeMetadata:s,strategy:a,legalAccepted:o}),n&&"missing_requirements"===e.status&&"verified"===e.verifications.web3Wallet.status)await (r&&"function"==typeof r?r(n):this.navigate(n))}else throw t}e.createdSessionId&&await this.setActive({session:e.createdSessionId,redirectUrl:i})}),d(this,"createOrganization",async t=>{let{name:e,slug:i}=t;return e6.create({name:e,slug:i})}),d(this,"getOrganization",async t=>e6.get(t)),d(this,"joinWaitlist",async t=>{let{emailAddress:e}=t;return i0.join({emailAddress:e})}),d(this,"__internal_setCountry",t=>{this.__internal_country||(this.__internal_country=t)}),d(this,"updateClient",t=>{if(!this.client){let e=a(this,nH).selectInitialSession?a(this,nH).selectInitialSession(t):a(this,n8).call(this,t);a(this,ra).call(this,e)}if(this.client=t,this.session){var e;let t=a(this,ro).call(this,this.session.id);a(this,ra).call(this,t),ia.dispatch(is.TokenUpdate,{token:null===(e=this.session)||void 0===e?void 0:e.lastActiveToken})}a(this,re).call(this)}),d(this,"__unstable__setEnvironment",async t=>{this.environment=new eW(t),rm.mountComponentRenderer&&h(this,nV,rm.mountComponentRenderer(this,this.environment,a(this,nH)))}),d(this,"__unstable__onBeforeRequest",t=>{a(this,nq).onBeforeRequest(t)}),d(this,"__unstable__onAfterResponse",t=>{a(this,nq).onAfterResponse(t)}),d(this,"__unstable__updateProps",t=>{var e;let i={...t,options:a(this,rp).call(this,{...a(this,nH),...t.options})};return null===(e=a(this,nV))||void 0===e?void 0:e.ensureMounted().then(t=>t.updateProps(i))}),l(this,nX,{writable:!0,value:()=>{let t=new URLSearchParams({[iw]:window.location.href});return tD({base:a(this,nH).signInUrl,searchParams:t},{stringify:!0})}}),l(this,n0,{writable:!0,value:()=>{let t;if(this.proxyUrl){let e=new URL(this.proxyUrl);t=new URL("".concat(e.pathname,"/v1/client/sync"),e.origin)}else this.domain&&(t=new URL("/v1/client/sync","https://".concat(this.domain)));return null==t||t.searchParams.append("redirect_url",window.location.href),(null==t?void 0:t.toString())||""}}),l(this,n1,{writable:!0,value:()=>{var t;return"true"!==tO(ig)&&!!this.isSatellite&&!!(null===(t=a(this,nj))||void 0===t?void 0:t.isSignedOut())}}),l(this,n3,{writable:!0,value:()=>"production"!==a(this,nB)&&!this.isSatellite&&!!tO(iw)}),l(this,n2,{writable:!0,value:async()=>{"development"===this.instanceType?await this.navigate(a(this,nX).call(this)):"production"===this.instanceType&&await this.navigate(a(this,n0).call(this))}}),l(this,n9,{writable:!0,value:(t,e)=>{let i;try{i=new URL(t)}catch{!function(){throw Error("".concat(ec," The signInUrl needs to have a absolute url format."))}()}i.origin===e&&function(){throw Error("".concat(ec," The signInUrl needs to be on a different origin than your satellite application."))}()}}),l(this,n6,{writable:!0,value:()=>{this.isSatellite&&("development"!==a(this,nB)||a(this,nH).signInUrl||function(){throw Error("".concat(ec," Missing signInUrl. A satellite application needs to specify the signInUrl for development instances."))}(),this.proxyUrl||this.domain||function(){throw Error("".concat(ec," Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl."))}(),a(this,nH).signInUrl&&a(this,n9).call(this,a(this,nH).signInUrl,window.location.origin))}}),l(this,n4,{writable:!0,value:async()=>{var t,e,i;if(h(this,nj,await nx.create(this,a(this,nq))),a(this,n6).call(this),a(this,n1).call(this))return await a(this,n2).call(this),!1;if("production"===a(this,nB)?null===(e=a(this,nj))||void 0===e||e.setupProduction():await (null===(i=a(this,nj))||void 0===i?void 0:i.setupDevelopment()),a(this,n3).call(this))return await a(this,nQ).call(this),!1;h(this,nY,tZ()),h(this,nK,new Y("clerk")),a(this,n7).call(this);let n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!t)return!1;let e=tF.get(t);if(void 0===e)e=K.some(e=>t.startsWith("accounts.")&&t.endsWith(e))||V.some(e=>t.endsWith(e)&&!t.endsWith(".clerk"+e)),tF.set(t,e);return e}(null===(t=window)||void 0===t?void 0:t.location.hostname),r="development"===a(this,nB)&&!n,s=0;for(;s<2;){s++;try{let[t,e]=await Promise.all([eW.getInstance().fetch({touch:r}),eA.getInstance().fetch()]);if(this.updateClient(e),this.updateEnvironment(t),await a(this,ru).call(this))return!1;rm.mountComponentRenderer&&h(this,nV,rm.mountComponentRenderer(this,this.environment,a(this,nH)));break}catch(t){if(tU(t,"dev_browser_unauthenticated"))await a(this,nj).handleUnauthenticatedDevBrowser();else if(!(M()&&x()))return console.warn(t),!1;else throw t}s>=2&&function(){throw Error("".concat(ec," Something went wrong initializing Clerk."))}()}return h(this,nJ,new nM(this)),a(this,nJ).start(),a(this,rf).call(this),a(this,rc).call(this),!0}}),l(this,n5,{writable:!0,value:async()=>{let[t,e]=await Promise.all([eW.getInstance().fetch({touch:!1}),eA.getInstance().fetch()]);return this.updateClient(e),this.updateEnvironment(t),rm.mountComponentRenderer&&h(this,nV,rm.mountComponentRenderer(this,this.environment,a(this,nH))),!0}}),l(this,n8,{writable:!0,value:t=>{if(t.lastActiveSessionId){let e=t.activeSessions.find(e=>e.id===t.lastActiveSessionId);if(e)return e}return t.activeSessions[0]||null}}),l(this,n7,{writable:!0,value:()=>{var t,e;u()&&(null===(t=a(this,nY))||void 0===t||t.onPageFocus(()=>{this.session&&!(a(this,nZ)>Date.now())&&(h(this,nZ,Date.now()+5e3),a(this,rt).call(this,this.session))}),null===(e=a(this,nK))||void 0===e||e.addEventListener("message",t=>{let{data:e}=t;"signout"===e.type&&this.handleUnauthenticated()}))}}),l(this,rt,{writable:!0,value:async t=>{if(!t||!a(this,nH).touchSession)return Promise.resolve();await t.touch().catch(t=>{(0,D.ix)(t)&&this.handleUnauthenticated()})}}),l(this,re,{writable:!0,value:()=>{if(this.client)for(let t of a(this,nG))t({client:this.client,session:this.session,user:this.user,organization:this.organization})}}),l(this,ri,{writable:!0,value:()=>{var t;null===(t=a(this,nK))||void 0===t||t.postMessage({type:"signout"})}}),l(this,rn,{writable:!0,value:()=>{rm.mountComponentRenderer&&(this.closeSignUp(),this.closeSignIn())}}),l(this,rr,{writable:!0,value:()=>{this.session=void 0,this.organization=void 0,this.user=void 0,a(this,re).call(this)}}),l(this,rs,{writable:!0,value:()=>{var t;return((null===(t=this.session)||void 0===t?void 0:t.user.organizationMemberships)||[]).map(t=>t.organization).find(t=>{var e;return t.id===(null===(e=this.session)||void 0===e?void 0:e.lastActiveOrganizationId)})||null}}),l(this,ra,{writable:!0,value:t=>{this.session=t||null,this.organization=a(this,rs).call(this),a(this,rl).call(this)}}),l(this,ro,{writable:!0,value:t=>{var e;return(null===(e=this.client)||void 0===e?void 0:e.activeSessions.find(e=>e.id===t))||null}}),l(this,rl,{writable:!0,value:()=>{this.user=this.session?this.session.user:null}}),l(this,rc,{writable:!0,value:()=>{this.addListener(t=>{let{session:e}=t;if(null==e?void 0:e.actor){var i;null===(i=a(this,nV))||void 0===i||i.ensureMounted().then(t=>t.mountImpersonationFab())}})}}),l(this,rh,{writable:!0,value:()=>{}}),l(this,rd,{writable:!0,value:(t,e,i)=>{if(!t||!this.loaded||!this.environment||!this.environment.displayConfig)return"";let n=a(this,nH)[t]||this.environment.displayConfig[t],r=new nr(a(this,nH),e).toSearchParams(),s=tD({base:n,hashSearchParams:[new URLSearchParams(i||{}),r]},{stringify:!0});return this.buildUrlWithAuth(s)}}),l(this,ru,{writable:!0,value:async()=>{var t,e;let i=new URLSearchParams(window.location.search).get("redirect_url"),n="production"===this.instanceType,r=null!==i&&function(t,e){let i=new URL(e,tW),n=i.pathname,r=tq.includes(n)||tB.includes(n);return t===i.host&&r}(this.frontendApi,i);if(n||!r)return!1;let s=this.session,o=a(this,nH).signInUrl||(null===(t=this.environment)||void 0===t?void 0:t.displayConfig.signInUrl),l=o&&window.location.href.startsWith(o),c=a(this,nH).signUpUrl||(null===(e=this.environment)||void 0===e?void 0:e.displayConfig.signUpUrl),h=c&&window.location.href.startsWith(c);return(!function(t){let e=new URL(t,tW);return tq.includes(e.pathname)}(i)||!!s||!l&&!h)&&(await this.navigate(this.buildUrlWithAuth(i)),!0)}}),l(this,rp,{writable:!0,value:t=>({...nN,...t,allowedRedirectOrigins:function(t,e){if(Array.isArray(t)&&t.length)return t;let i=[];return"undefined"!=typeof window&&window.location&&i.push(window.location.origin),i.push("https://".concat(tL(e))),i.push("https://*.".concat(tL(e))),i}(null==t?void 0:t.allowedRedirectOrigins,this.frontendApi)})}),l(this,rf,{writable:!0,value:()=>{try{tI(ig),tI("suffixed_cookies"),tI("__clerk_handshake"),tI("__clerk_help")}catch(t){}}}),t=(t||"").trim(),h(this,nL,null==e?void 0:e.domain),h(this,nD,null==e?void 0:e.proxyUrl),!t)return tA.throwMissingPublishableKeyError();let n=$(t);if(!n)return tA.throwInvalidPublishableKeyError({key:t});h(this,nF,t),h(this,nB,n.instanceType),h(this,nq,iy(this)),e_.clerk=this}}function rg(){let t=tm;return a(this,nH).allowedRedirectProtocols&&(t=t.concat(a(this,nH).allowedRedirectProtocols)),t}d(rm,"mountComponentRenderer",void 0),d(rm,"version","5.39.0"),d(rm,"sdkMetadata",{name:"@clerk/clerk-js",version:"5.39.0",environment:"production"}),(t=i.hmd(t)).hot&&t.hot.accept()},2689:function(t,e,i){"use strict";i.d(e,{Ko:function(){return p},U9:function(){return v},ac:function(){return u},qx:function(){return f},r2:function(){return l},yA:function(){return h}});var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=t=>{throw TypeError(t)},l=(t,e)=>{for(var i in e)n(t,i,{get:e[i],enumerable:!0})},c=(t,e,i,o)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let l of s(e))a.call(t,l)||l===i||n(t,l,{get:()=>e[l],enumerable:!(o=r(e,l))||o.enumerable});return t},h=(t,e,i)=>(c(t,e,"default"),i&&c(i,e,"default")),d=(t,e,i)=>e.has(t)||o("Cannot "+i),u=(t,e,i)=>(d(t,e,"read from private field"),i?i.call(t):e.get(t)),p=(t,e,i)=>e.has(t)?o("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),f=(t,e,i,n)=>(d(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),v=(t,e,i)=>(d(t,e,"access private method"),i)},5120:function(t,e,i){"use strict";function n(t){return["captcha_invalid","captcha_not_enabled","captcha_missing_token"].includes(t.errors[0].code)}function r(t){let e=null==t?void 0:t.status;return!!e&&e>=400&&e<500}function s(t){return(`${t.message}${t.name}`||"").toLowerCase().replace(/\s+/g,"").includes("networkerror")}function a(t){return o(t)||c(t)||l(t)}function o(t){return"clerkError"in t}function l(t){return"clerkRuntimeError"in t}function c(t){return"code"in t&&[4001,32602,32603].includes(t.code)&&"message"in t}function h(t){var e,i;return o(t)&&(null==(i=null==(e=t.errors)?void 0:e[0])?void 0:i.code)==="user_locked"}function d(t=[]){return t.length>0?t.map(u):[]}function u(t){var e,i,n,r,s;return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:null==(e=null==t?void 0:t.meta)?void 0:e.param_name,sessionId:null==(i=null==t?void 0:t.meta)?void 0:i.session_id,emailAddresses:null==(n=null==t?void 0:t.meta)?void 0:n.email_addresses,identifiers:null==(r=null==t?void 0:t.meta)?void 0:r.identifiers,zxcvbn:null==(s=null==t?void 0:t.meta)?void 0:s.zxcvbn}}}i.d(e,{G1:function(){return m},N:function(){return v},RK:function(){return b},ZC:function(){return c},_L:function(){return g},ay:function(){return h},eE:function(){return s},gO:function(){return p},iR:function(){return d},ix:function(){return r},kD:function(){return o},nU:function(){return u},pG:function(){return n},sZ:function(){return a},t5:function(){return _},uX:function(){return l},w$:function(){return f}});var p=class t extends Error{constructor(e,{data:i,status:n,clerkTraceId:r}){super(e),this.toString=()=>{let t=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(t=>JSON.stringify(t))}`;return this.clerkTraceId&&(t+=`
Clerk Trace ID: ${this.clerkTraceId}`),t},Object.setPrototypeOf(this,t.prototype),this.status=n,this.message=e,this.clerkTraceId=r,this.clerkError=!0,this.errors=d(i)}},f=class t extends Error{constructor(e,{code:i}){let n="\uD83D\uDD12 Clerk:",r=RegExp(n.replace(" ","\\s*"),"i"),s=e.replace(r,""),a=`${n} ${s.trim()}

(code="${i}")
`;super(a),this.toString=()=>`[${this.name}]
Message:${this.message}`,Object.setPrototypeOf(this,t.prototype),this.code=i,this.message=a,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},v=class t extends Error{constructor(e){super(e),this.code=e,Object.setPrototypeOf(this,t.prototype)}};function m(t){return t instanceof v}var g={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"},w=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function _({packageName:t,customMessages:e}){let i=t,n={...w,...e};function r(t,e){if(!e)return`${i}: ${t}`;let n=t;for(let i of t.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let t=(e[i[1]]||"").toString();n=n.replace(`{{${i[1]}}}`,t)}return`${i}: ${n}`}return{setPackageName({packageName:t}){return"string"==typeof t&&(i=t),this},setMessages({customMessages:t}){return Object.assign(n,t||{}),this},throwInvalidPublishableKeyError(t){throw Error(r(n.InvalidPublishableKeyErrorMessage,t))},throwInvalidProxyUrl(t){throw Error(r(n.InvalidProxyUrlErrorMessage,t))},throwMissingPublishableKeyError(){throw Error(r(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(r(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(t){throw Error(r(n.MissingClerkProvider,t))},throw(t){throw Error(r(t))}}}var b=class extends f{constructor(t,{code:e}){super(t,{code:e}),this.code=e}}},9996:function(t,e,i){"use strict";i.d(e,{Q:function(){return u}});var n={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},r=new Set(["first_factor","second_factor","multi_factor"]),s=new Set(["strict_mfa","strict","moderate","lax"]),a=t=>"number"==typeof t&&t>0,o=t=>r.has(t),l=t=>s.has(t),c=(t,e)=>{let{orgId:i,orgRole:n,orgPermissions:r}=e;return(t.role||t.permission)&&i&&n&&r?t.permission?r.includes(t.permission):t.role?n===t.role:null:null},h=t=>{if(!t)return!1;let e="string"==typeof t&&l(t),i="object"==typeof t&&o(t.level)&&a(t.afterMinutes);return(!!e||!!i)&&(t=>"string"==typeof t?n[t]:t).bind(null,t)},d=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;let i=h(t.reverification);if(!i)return null;let{level:n,afterMinutes:r}=i(),[s,a]=e,o=-1!==s?r>s:null,l=-1!==a?r>a:null;switch(n){case"first_factor":return o;case"second_factor":return -1!==a?l:o;case"multi_factor":return -1===a?o:o&&l}},u=t=>e=>{if(!t.userId)return!1;let i=c(e,t),n=d(e,t);return[i,n].some(t=>null===t)?[i,n].some(t=>!0===t):[i,n].every(t=>!0===t)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var s=Object.create(null);i.r(s);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach(function(t){a[t]=function(){return n[t]}});return a.default=function(){return n},i.d(s,a),s}})(),i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce(function(e,n){return i.f[n](t,e),e},[]))},i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.u=function(t){return""+("199"===t?"cookieSuffix":t)+"_"+i.h().slice(0,6)+"_5.39.0.js"},i.h=function(){return"eb2b4ac7e5bc365883ef"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},(()=>{var t={},e="@clerk/clerk-js:";i.l=function(n,r,s,a){if(t[n]){t[n].push(r);return}if(void 0!==s)for(var o,l,c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+s),o.src=n),t[n]=[r];var u=function(e,i){o.onerror=o.onload=null,clearTimeout(p);var r=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(function(t){return t(i)}),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}})(),i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="",(()=>{var t={994:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r){if(r)n.push(r[2]);else{var s=new Promise(function(i,n){r=t[e]=[i,n]});n.push(r[2]=s);var a=i.p+i.u(e),o=Error();i.l(a,function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,r[1](o)}},"chunk-"+e,e)}}};var e=function(e,n){var r,s,a=n[0],o=n[1],l=n[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);l&&l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i("9906")})());